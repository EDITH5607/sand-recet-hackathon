[0.24 - 3.84] hello and welcome to this new year
[2.00 - 6.88] special where we&#39;re going to be making
[3.84 - 8.48] five extensions in this one video so the
[6.88 - 10.48] extensions we&#39;re going to be making is
[8.48 - 12.48] first is a word of the day extension
[10.48 - 14.16] that&#39;ll be in a new tab
[12.48 - 15.84] then we&#39;re going to be making what i
[14.16 - 17.84] like to call epic mode
[15.84 - 19.68] to play music in the background whilst
[17.84 - 20.40] you&#39;re browsing on any tab and you can
[19.68 - 22.32] select between
[20.40 - 25.12] three different music tracks which we&#39;ll
[22.32 - 26.88] grab from the youtube music library
[25.12 - 28.64] after that we&#39;re going to be building a
[26.88 - 31.12] simple web scraper so this will let us
[28.64 - 34.08] perform a number of actions on a page
[31.12 - 35.20] and either press buttons or grab content
[34.08 - 36.56] from the page
[35.20 - 38.72] and i&#39;m actually going to be making a
[36.56 - 40.16] more in-depth and advanced
[38.72 - 42.32] class on skillshare on making a
[40.16 - 43.12] webscraper extension so you can find a
[42.32 - 44.88] link to that
[43.12 - 46.32] below but that&#39;s not launched just yet
[44.88 - 48.48] and then finally we&#39;re going to be
[46.32 - 50.88] building a to-do list
[48.48 - 52.72] pop-up extension that will let you at
[50.88 - 54.72] add in your to-do items
[52.72 - 56.40] mark them as complete and then delete
[54.72 - 58.48] them so they&#39;re the different extensions
[56.40 - 61.12] that we&#39;re going to be building
[58.48 - 61.92] and i&#39;m going to start with a with the
[61.12 - 64.32] code i made
[61.92 - 67.04] in the last video which is a bunch of
[64.32 - 69.28] starter templates for making extensions
[67.04 - 70.64] so if you want to use the code that i&#39;m
[69.28 - 72.08] showing in this video you can either
[70.64 - 73.84] download the starter
[72.08 - 76.16] or you can download the completed code
[73.84 - 78.08] which you can find in the description
[76.16 - 80.00] but otherwise let&#39;s get started in this
[78.08 - 81.04] first extension we&#39;re building our word
[80.00 - 83.20] of the day
[81.04 - 84.64] so i&#39;ll show you over here some notes
[83.20 - 85.36] that i&#39;ve put together for this
[84.64 - 86.96] extension
[85.36 - 89.04] okay so here we are so it&#39;s a word of
[86.96 - 90.96] the day simple enough
[89.04 - 92.96] so it&#39;ll be in our new tab and whenever
[90.96 - 93.92] we open a new tab we want a really clean
[92.96 - 96.32] design
[93.92 - 98.08] and it will show us our word of the day
[96.32 - 99.52] and then a dictionary description of
[98.08 - 101.76] what this word means
[99.52 - 103.76] now luckily there&#39;s an api that can do
[101.76 - 105.60] all of the heavy lifting for us
[103.76 - 107.12] so all we need to do is call this api in
[105.60 - 109.04] our background page
[107.12 - 110.48] find out what the word is what the
[109.04 - 112.16] description is and then display it
[110.48 - 114.48] nicely on the page
[112.16 - 115.52] so here is the api that we&#39;re going to
[114.48 - 117.60] be using
[115.52 - 118.64] so we&#39;ll sign up and make an account and
[117.60 - 120.88] then we&#39;ll start getting
[118.64 - 123.28] working on the code so what we&#39;re going
[120.88 - 125.52] to be doing here because it&#39;s a new tab
[123.28 - 128.64] extension we&#39;re just going to duplicate
[125.52 - 130.16] a new tab over here so we&#39;ll duplicate
[128.64 - 133.44] and we&#39;re going to call this
[130.16 - 134.48] word of the day and there is a folder
[133.44 - 135.68] that we&#39;re going to be working with for
[134.48 - 138.40] this extension
[135.68 - 139.60] so we&#39;ll update our manifest add a new
[138.40 - 142.24] description
[139.60 - 143.52] and then here is our new tab.html so
[142.24 - 145.20] we&#39;ll save that
[143.52 - 147.76] we can delete this music here because we
[145.20 - 147.76] don&#39;t need that
[148.56 - 154.08] and there is our new tab so we&#39;re going
[150.32 - 154.08] to change this again to word of the day
[155.44 - 160.80] and then delete everything else in here
[159.28 - 162.88] so now we&#39;re ready to get started
[160.80 - 165.52] connecting up to our api
[162.88 - 166.72] so if we go back to our notes here we&#39;re
[165.52 - 170.32] going to be registering an
[166.72 - 171.76] api account with this uh site here
[170.32 - 173.60] so if you want i&#39;ve added a link in the
[171.76 - 175.36] description to this service
[173.60 - 176.96] otherwise i&#39;m gonna go ahead now and set
[175.36 - 178.48] up my account so before i create my
[176.96 - 180.16] account i&#39;ll show you what this api
[178.48 - 181.84] documentation looks like
[180.16 - 184.72] so as you can see we have a number of
[181.84 - 186.16] different endpoints for this api
[184.72 - 187.92] and we&#39;re going to be using this one
[186.16 - 189.52] down here word of the day
[187.92 - 191.04] so all you need to do is you just pass
[189.52 - 193.76] in the date
[191.04 - 194.56] so for example today and then you click
[193.76 - 196.56] try it out
[194.56 - 198.48] and it will give you your response so
[196.56 - 201.04] there&#39;s your word
[198.48 - 203.20] and that is what it means where is it
[201.04 - 206.24] yeah that&#39;s what it means
[203.20 - 207.84] so it gives you a definition and more
[206.24 - 209.44] information about that word but all we
[207.84 - 211.76] need is the word
[209.44 - 213.44] and the description so now we need to go
[211.76 - 215.12] ahead and create our api key
[213.44 - 217.76] so i&#39;ll go ahead and get mine created
[215.12 - 218.32] now okay so one small problem of this
[217.76 - 221.04] api
[218.32 - 222.88] is that it takes sometimes up to 24
[221.04 - 224.16] hours to a week for you to actually get
[222.88 - 226.08] your api key
[224.16 - 227.76] so what we&#39;re going to be doing is
[226.08 - 231.60] coding the back end with
[227.76 - 232.88] some set uh random words that we can use
[231.60 - 234.48] with descriptions
[232.88 - 236.32] and then we&#39;re going to display these in
[234.48 - 238.24] our front end so once we actually have
[236.32 - 239.36] our api we can then update just this one
[238.24 - 241.12] part of the code
[239.36 - 242.72] of the extension and everything else
[241.12 - 245.20] will still work exactly
[242.72 - 245.76] as we would expect so don&#39;t worry about
[245.20 - 247.68] this
[245.76 - 249.44] if you have this same problem so just
[247.68 - 250.80] follow along and you&#39;ll be able to still
[249.44 - 252.40] build the extension
[250.80 - 254.48] so what we need to do still is go back
[252.40 - 257.68] to the docs
[254.48 - 258.56] and find our word of the day so down
[257.68 - 260.96] here
[258.56 - 263.12] so we&#39;ll put everything we need for this
[260.96 - 264.56] call in our code anyway
[263.12 - 266.72] but we&#39;ll just comment it out for now
[264.56 - 268.00] and replace it later so what we need to
[266.72 - 271.28] do is go back to
[268.00 - 272.48] atom and start preparing our page for
[271.28 - 274.32] these words
[272.48 - 276.08] so we&#39;re going to keep it really really
[274.32 - 278.16] simple so we&#39;re going to add
[276.08 - 279.92] a section tag just here where all of the
[278.16 - 281.60] content will appear
[279.92 - 283.20] and then inside this we&#39;re going to just
[281.60 - 286.16] have an h1 which will be
[283.20 - 288.56] our word and then underneath there&#39;ll be
[286.16 - 291.36] a paragraph tag with a description
[288.56 - 291.36] of this word
[294.16 - 297.52] so it looks something like this and then
[296.64 - 298.72] obviously you want to add a bit of
[297.52 - 301.04] styling to make this
[298.72 - 304.40] uh stand out nice as well so we&#39;ll add a
[301.04 - 304.40] style sheet at the top here
[307.36 - 311.68] and set our body now one thing that you
[310.08 - 315.04] could do is also add
[311.68 - 315.92] a random unsplash background image so we
[315.04 - 317.44] if we have time
[315.92 - 319.20] i&#39;m just trying to keep an eye on how
[317.44 - 320.88] long this is going to take
[319.20 - 322.00] we can add that as well but to begin
[320.88 - 323.04] with we&#39;ll just put a nice smooth
[322.00 - 325.28] background color
[323.04 - 328.24] so if we just load this into chrome now
[325.28 - 330.40] let&#39;s see what we have so far
[328.24 - 332.00] okay so here is our word of the day
[330.40 - 333.60] extension so far
[332.00 - 335.76] now as you can see we want to have this
[333.60 - 337.36] centered right in the middle of the page
[335.76 - 339.84] with our word actually much bigger than
[337.36 - 341.28] this and a description
[339.84 - 344.16] probably in a slightly different font as
[341.28 - 347.44] well so we&#39;ll just tweak this slightly
[344.16 - 350.96] so we&#39;ll go to our section block
[347.44 - 353.36] display flex line item
[350.96 - 356.96] center and justify content center as
[353.36 - 356.96] well not quite what we&#39;re looking for
[357.92 - 361.44] okay so there we have this part but we
[359.60 - 362.72] want to make sure that we fill the whole
[361.44 - 364.40] page as well
[362.72 - 366.32] so to do that we&#39;ll do exactly the same
[364.40 - 369.28] thing with our
[366.32 - 370.32] body we can see that yeah we need to
[369.28 - 375.52] adjust
[370.32 - 378.64] the height just tidy this up
[375.52 - 382.08] okay and then we&#39;ll just take this away
[378.64 - 383.60] okay so here is our um word
[382.08 - 385.68] information sent into the middle of the
[383.60 - 388.16] page no one&#39;s just add a bit more
[385.68 - 391.84] styling here so if we go to our section
[388.16 - 394.96] h1 we&#39;ll make this huge
[391.84 - 397.36] on the page and then we can remove
[394.96 - 400.00] all of the padding and margin associated
[397.36 - 400.00] with this as well
[401.08 - 404.15] [Music]
[404.64 - 408.24] and then we&#39;ll do a similar thing for
[406.40 - 409.12] our paragraph so we&#39;ll change the font
[408.24 - 412.80] size
[409.12 - 415.84] about 1.5 and
[412.80 - 418.24] see how that looks okay
[415.84 - 419.52] so now what we need to do again we&#39;re
[418.24 - 420.64] making this really simple we&#39;re going to
[419.52 - 422.72] try and move these as
[420.64 - 424.16] through these as quickly as we can so we
[422.72 - 426.56] need to make sure that this
[424.16 - 427.60] uh word can be dynamic so it can change
[426.56 - 429.20] each time
[427.60 - 430.88] so what we&#39;re going to add is a
[429.20 - 433.04] background page that we can
[430.88 - 434.00] make calls to this is where we&#39;ll be
[433.04 - 436.48] calling the api
[434.00 - 438.24] as well so what we need to do is add a
[436.48 - 440.32] background page over here
[438.24 - 441.60] now if you&#39;re following along using the
[440.32 - 443.36] same templates
[441.60 - 445.20] what you can do is if you look at the
[443.36 - 445.84] manifest of our background message just
[445.20 - 448.72] here
[445.84 - 450.32] you can basically copy and paste the
[448.72 - 454.32] code from that page
[450.32 - 456.48] or from that manifest into uh
[454.32 - 459.68] extension just here so now we need to
[456.48 - 462.80] add a background.html into our page so
[459.68 - 462.80] if we just go new file
[462.84 - 468.16] background.html and then in here
[465.92 - 471.84] we&#39;re going to add another new file this
[468.16 - 474.56] is background.js
[471.84 - 475.36] now you can add a background script in
[474.56 - 476.72] directly
[475.36 - 479.84] but i think this helps you to keep
[476.72 - 479.84] things a little bit more consistent
[480.08 - 486.56] like this so all i then need to do
[483.44 - 486.56] i&#39;ll just copy this across
[487.92 - 492.88] is paste this in here and then call
[490.20 - 496.24] background.js so what we have now
[492.88 - 498.32] is a manifest is the same as it was
[496.24 - 500.56] before just this new
[498.32 - 502.32] object added into our manifest that
[500.56 - 503.52] calls in a background page that&#39;s
[502.32 - 506.56] persistent
[503.52 - 509.52] false which is important and then in
[506.56 - 510.72] here we just call in our background.js
[509.52 - 512.56] and this is where we&#39;re going to be
[510.72 - 514.72] doing all of our
[512.56 - 516.08] interaction with the api and with our
[514.72 - 518.96] front end
[516.08 - 520.88] so all we need to do now is make sure
[518.96 - 524.96] that we have our script.js
[520.88 - 527.68] open and background.js open
[524.96 - 529.12] so again if you want to follow along a
[527.68 - 530.64] little bit easier
[529.12 - 532.64] what you&#39;ll notice if you go to the
[530.64 - 535.60] background message example extension
[532.64 - 538.08] and just copy this event listener into
[535.60 - 541.44] your new background.js
[538.08 - 544.64] and then from the content script copy
[541.44 - 544.64] where we&#39;re sending the message
[545.04 - 549.12] and paste that into here and then you
[546.96 - 550.32] can then close that content script and
[549.12 - 551.84] close that
[550.32 - 554.08] that background message function so what
[551.84 - 556.88] this has done this code here lets us
[554.08 - 558.16] interact with each of these files so our
[556.88 - 559.20] content script can talk to our
[558.16 - 560.72] background page
[559.20 - 563.68] and our background page can talk to our
[560.72 - 566.56] content script so what we need to do
[563.68 - 567.20] is make sure that when the page first
[566.56 - 569.20] opens
[567.20 - 571.44] we ask the background page to find out
[569.20 - 574.56] what is the latest word that we can use
[571.44 - 576.64] so what that basically means is
[574.56 - 578.40] in our script just here we&#39;re going to
[576.64 - 578.80] send a message to our background page
[578.40 - 581.20] saying
[578.80 - 581.20] fetch
[581.84 - 587.12] fetch words and then what we would
[584.40 - 590.48] usually do is in here
[587.12 - 593.52] we would call the api
[590.48 - 593.52] wait for a response
[593.76 - 598.96] and then send the response so once we
[596.96 - 600.48] have our api keys we can do this
[598.96 - 602.72] and what you would find is if we tried
[600.48 - 605.12] to call this now without an api key
[602.72 - 606.96] we&#39;d get an error so it&#39;d say something
[605.12 - 609.04] like this no root matched
[606.96 - 610.72] yeah okay so if we call it like this so
[609.04 - 613.68] we&#39;ve got our api
[610.72 - 615.20] then the version then words.json forward
[613.68 - 616.16] slash word of the day then put in for
[615.20 - 619.12] today&#39;s date
[616.16 - 620.64] in this format so that&#39;s year month day
[619.12 - 622.16] and then our api key
[620.64 - 624.48] so we just copy this and replace what we
[622.16 - 627.28] had so far
[624.48 - 627.84] and then we&#39;ll set another variable up
[627.28 - 630.32] here
[627.84 - 631.68] which will be our api key and we&#39;ll just
[630.32 - 634.24] call that in like this
[631.68 - 634.24] so we&#39;ll have
[634.80 - 640.00] so once you get your api key um
[638.16 - 641.28] email that gives you the api key so
[640.00 - 643.12] hopefully it doesn&#39;t take too long but
[641.28 - 643.68] again it could be from 24 hours to a
[643.12 - 646.00] week
[643.68 - 647.04] we&#39;ll then update that and then all we
[646.00 - 650.24] need to do as well is
[647.04 - 651.12] change this part just here with today&#39;s
[650.24 - 654.56] date
[651.12 - 658.16] so we&#39;ll call that date equals new
[654.56 - 658.56] date and then we know what format we
[658.16 - 661.68] want
[658.56 - 663.28] so let&#39;s just adjust this
[661.68 - 664.88] and then add that into the string as
[663.28 - 666.24] well okay
[664.88 - 667.92] and then we&#39;ll just make sure this is in
[666.24 - 669.60] the correct format so to make sure that
[667.92 - 672.40] we get the format that we want
[669.60 - 674.00] what we&#39;re going to be doing is using
[672.40 - 675.92] this new date so we&#39;re using the date
[674.00 - 677.68] object and then we&#39;re going to set this
[675.92 - 679.20] to an iso string
[677.68 - 681.84] and then we&#39;re going to only use the
[679.20 - 684.08] first uh 10
[681.84 - 685.68] characters from this string and then cut
[684.08 - 687.20] off the rest so that will look like this
[685.68 - 690.72] we&#39;ve got the year
[687.20 - 693.76] the month and then the day so if we just
[690.72 - 697.84] test this now so we&#39;re going to
[693.76 - 697.84] run this code and then say console.log
[698.00 - 703.36] api call and add date string just so we
[701.52 - 706.64] can see which part is which
[703.36 - 708.16] and then down here um we&#39;ll be able to
[706.64 - 709.68] see this when we get our response this
[708.16 - 711.36] is our script here
[709.68 - 712.96] um but first we need to update our
[711.36 - 714.80] background page just to
[712.96 - 716.16] send information so what we&#39;ve what i&#39;ve
[714.80 - 717.36] just noticed i&#39;ve written this in the
[716.16 - 720.72] wrong place
[717.36 - 722.64] um but that&#39;s fine for now so down here
[720.72 - 724.56] we just need to change this
[722.64 - 727.28] listener in our background page from
[724.56 - 728.64] message to fetch words
[727.28 - 731.04] this is where we actually want to make
[728.64 - 734.40] this api call so we&#39;ll just
[731.04 - 737.92] copy all of this just here
[734.40 - 740.00] and paste it in here and so instead of
[737.92 - 742.88] having that in our content script
[740.00 - 744.80] we&#39;re going to remove all of this and
[742.88 - 747.92] then just say
[744.80 - 750.96] console log response
[747.92 - 750.96] we can remove this
[751.36 - 754.88] so save that and then in this page over
[754.16 - 757.12] here
[754.88 - 758.00] our background page we&#39;re going to just
[757.12 - 761.52] send
[758.00 - 763.84] a response of our api call
[761.52 - 766.00] so we&#39;ll just call that api and then
[763.84 - 769.20] paste in that variable just there
[766.00 - 771.76] and then the next one will be date and
[769.20 - 774.40] we&#39;re passing the date string just there
[771.76 - 775.92] so if we now refresh our extension what
[774.40 - 778.24] you need to do is go into the
[775.92 - 779.36] extensions here and then press refresh
[778.24 - 782.40] and then go to your
[779.36 - 785.20] new tab and refresh again
[782.40 - 786.00] then we want to inspect the code here
[785.20 - 787.84] and see what we have
[786.00 - 789.60] so we can see an object has been passed
[787.84 - 792.56] back we have a
[789.60 - 793.52] uh api that we&#39;re calling and then the
[792.56 - 795.36] date
[793.52 - 796.88] and that is the correct date for me just
[795.36 - 799.12] here so
[796.88 - 800.00] this would be perfect except we don&#39;t
[799.12 - 802.40] have our api key
[800.00 - 804.08] yet so all we&#39;re going to do now is just
[802.40 - 807.44] change this a little bit
[804.08 - 810.48] so in our response here normally we&#39;ll
[807.44 - 813.52] be calling a fetch
[810.48 - 814.80] that would call this api and then
[813.52 - 816.24] wait for the response and then send it
[814.80 - 818.24] to us then but because we don&#39;t have
[816.24 - 819.12] that api key yet there&#39;s no point in us
[818.24 - 822.08] doing this
[819.12 - 822.96] so what we&#39;re going to just do is set an
[822.08 - 824.48] array
[822.96 - 826.56] of different words and then we&#39;re going
[824.48 - 828.16] to pass in a description of these words
[826.56 - 833.20] as well so what we&#39;re going to do
[828.16 - 835.36] is say const words object
[833.20 - 836.80] that&#39;ll be like this and then here
[835.36 - 839.52] there&#39;ll be an array
[836.80 - 840.72] so what we&#39;re going to have is a list of
[839.52 - 842.56] words so i&#39;ll just
[840.72 - 844.08] fill this out now and then come back
[842.56 - 847.04] okay so here we have two
[844.08 - 848.64] arrays of uh information so we have our
[847.04 - 849.92] words and the description that is
[848.64 - 852.48] associated with that
[849.92 - 854.80] and then all we&#39;re going to do each time
[852.48 - 857.28] is uh when we get into here
[854.80 - 858.32] we&#39;re going to randomly generate a
[857.28 - 861.52] number from
[858.32 - 864.00] 0 to 4 and then
[861.52 - 866.24] call in this word and this description
[864.00 - 869.52] so we&#39;ll change our response to be
[866.24 - 870.72] word and description and then we&#39;ll just
[869.52 - 875.36] get our random numbers
[870.72 - 878.64] this will be words object
[875.36 - 881.92] number and then words
[878.64 - 884.80] descriptions object number
[881.92 - 886.56] so look like this and then over in our
[884.80 - 887.92] script.js we&#39;re going to be listening
[886.56 - 890.16] for this response
[887.92 - 892.00] so then all we need to do is make sure
[890.16 - 894.32] that we update
[892.00 - 895.52] uh h1 and our paragraph with the new
[894.32 - 898.32] information
[895.52 - 900.48] so all we need to say is document query
[898.32 - 904.88] selector
[900.48 - 908.48] h1 inner html
[904.88 - 910.16] equals response word like that and then
[908.48 - 912.24] we&#39;ll do the same thing
[910.16 - 913.68] for the paragraph tag response
[912.24 - 915.12] description
[913.68 - 917.04] so if we refresh this now if i&#39;ve done
[915.12 - 919.04] this correctly that should
[917.04 - 920.32] update each time so first we need to
[919.04 - 920.96] make sure that we&#39;re getting our random
[920.32 - 922.16] number
[920.96 - 924.32] so for that we&#39;re going to create a
[922.16 - 928.08] function up here where
[924.32 - 929.60] we set in our max number so for here we
[928.08 - 932.24] know our maximum number
[929.60 - 936.24] is four so we want between zero and four
[932.24 - 936.24] so we&#39;ll just use this here and then say
[937.60 - 943.28] number equals get random number four
[941.52 - 944.88] and then all this will do is use the
[943.28 - 947.76] math random function
[944.88 - 948.32] which will be a float a random float and
[947.76 - 951.68] then we&#39;ll
[948.32 - 954.32] times this by our maximum
[951.68 - 955.44] number that we want so this should work
[954.32 - 956.96] let&#39;s just find out
[955.44 - 958.80] okay it&#39;s almost right but what this
[956.96 - 962.00] actually does is that
[958.80 - 964.56] is uh one number below the number that
[962.00 - 968.40] we set so if we just change this to
[964.56 - 972.96] um number and then say
[968.40 - 974.16] max equals number plus one
[972.96 - 976.16] this should mean that we&#39;re always
[974.16 - 976.64] getting a random number between zero and
[976.16 - 978.24] four
[976.64 - 980.48] and this means as well if we only wanted
[978.24 - 981.76] to add more um
[980.48 - 984.88] different words in here you could do
[981.76 - 986.24] that as well but again
[984.88 - 988.56] we&#39;re going to be using the api soon
[986.24 - 991.04] this is all just um
[988.56 - 993.44] as a placeholder until that point so if
[991.04 - 996.72] we go into here now and refresh
[993.44 - 998.08] extension open a new tab we can now see
[996.72 - 1000.32] that we get
[998.08 - 1001.28] random words and description each time
[1000.32 - 1003.84] now obviously
[1001.28 - 1005.68] there&#39;s not too many words in here but
[1003.84 - 1007.36] this is a great way to get started and
[1005.68 - 1009.84] you can see how this would work
[1007.36 - 1011.12] now one thing i want to add into this
[1009.84 - 1013.12] video as well as a few ways that you
[1011.12 - 1015.44] could improve this moving forwards
[1013.12 - 1017.44] now the first thing i think you&#39;d need
[1015.44 - 1019.20] to look at for an extension like this is
[1017.44 - 1020.00] a way for people to favorite certain
[1019.20 - 1021.92] words
[1020.00 - 1023.76] then you could have a sidebar over here
[1021.92 - 1025.84] where you could look through your past
[1023.76 - 1027.92] favorite words and see the definitions
[1025.84 - 1028.96] so you can expand your vocabulary and
[1027.92 - 1030.08] things like that
[1028.96 - 1032.72] so that&#39;s one way that you can improve
[1030.08 - 1034.96] this extension um but what i&#39;ll do is
[1032.72 - 1036.88] once i get my api key
[1034.96 - 1038.56] i&#39;ll upload a video onto the channel
[1036.88 - 1041.12] that finishes off this
[1038.56 - 1043.52] particular extension but you can see
[1041.12 - 1045.12] from here this is actually already
[1043.52 - 1046.64] pretty much what we set out to build in
[1045.12 - 1048.80] that we&#39;ve got this
[1046.64 - 1050.40] really simple display in our new tab
[1048.80 - 1053.04] with a word that we can see
[1050.40 - 1054.24] and a description that goes with this
[1053.04 - 1057.76] okay so that&#39;s the first
[1054.24 - 1060.40] extension okay up next we&#39;re building a
[1057.76 - 1061.12] extension we&#39;re gonna call epic mode now
[1060.40 - 1063.84] this
[1061.12 - 1064.16] will appear in a pop-out so we can click
[1063.84 - 1067.20] a
[1064.16 - 1068.40] like the icon up in the extensions tray
[1067.20 - 1070.48] and this will make a little window
[1068.40 - 1072.72] appear and there&#39;ll be a drop down
[1070.48 - 1074.72] where you can select a track of music
[1072.72 - 1076.32] we&#39;ll just call it one two three
[1074.72 - 1078.24] and then depending on which one you pick
[1076.32 - 1080.08] that will start playing that music
[1078.24 - 1082.00] in the background so even once you close
[1080.08 - 1082.72] that pop out we&#39;re going to be playing
[1082.00 - 1086.16] this
[1082.72 - 1090.24] music in our background page so for this
[1086.16 - 1093.44] we&#39;ll copy the pop out option just here
[1090.24 - 1096.72] so we&#39;re going to copy this duplicate
[1093.44 - 1098.40] we&#39;re going to call it epic mode
[1096.72 - 1102.16] and then close all the other files we&#39;ve
[1098.40 - 1104.56] got here and we&#39;re going to open up
[1102.16 - 1105.60] our html file and then we&#39;re going to
[1104.56 - 1107.36] change this a bit so we&#39;re not going to
[1105.60 - 1109.36] be playing the music in here
[1107.36 - 1111.76] again if you want to find the starter
[1109.36 - 1113.44] files for this it&#39;s in the description
[1111.76 - 1115.36] and there&#39;ll be a separate link for the
[1113.44 - 1117.12] finished code um for the end of this
[1115.36 - 1119.12] video as well
[1117.12 - 1120.56] so that would be this point here so
[1119.12 - 1122.64] we&#39;ve got our pop out
[1120.56 - 1124.96] now what this is basically going to do
[1122.64 - 1127.92] is depending on when we click play
[1124.96 - 1129.52] it will find out which option we have
[1127.92 - 1130.80] selected in our drop down
[1129.52 - 1133.92] and then send a message to our
[1130.80 - 1136.88] background page to then play that
[1133.92 - 1138.48] file so as you can see i have an mp3
[1136.88 - 1140.96] file in here already
[1138.48 - 1142.96] i&#39;m going to delete that and because
[1140.96 - 1144.40] we&#39;re going to download
[1142.96 - 1145.84] just three random tracks from the
[1144.40 - 1147.20] youtube music library so we&#39;re going to
[1145.84 - 1149.20] go there first
[1147.20 - 1150.32] so here we are in the youtube music
[1149.20 - 1152.32] library
[1150.32 - 1153.44] now there&#39;s a number of different ones
[1152.32 - 1156.88] but all i want
[1153.44 - 1159.60] is the three longest tracks
[1156.88 - 1161.44] so this one okay so you have to have
[1159.60 - 1163.68] this if you&#39;re using it in a video
[1161.44 - 1164.88] but for the extension you probably have
[1163.68 - 1167.76] to
[1164.88 - 1169.52] add some part some type of attribution
[1167.76 - 1172.16] to this inside your extension
[1169.52 - 1173.84] but for this video um as it&#39;s just an
[1172.16 - 1175.20] example
[1173.84 - 1176.40] i&#39;m not going to add that in but if
[1175.20 - 1178.08] you&#39;re going to be using this in
[1176.40 - 1180.16] production and actually
[1178.08 - 1181.92] out in the in the web store and out
[1180.16 - 1183.12] there then you definitely need to add
[1181.92 - 1186.00] some sort of message
[1183.12 - 1188.88] on here as well so that&#39;s the first one
[1186.00 - 1192.48] the second one
[1188.88 - 1194.80] and the third one
[1192.48 - 1196.64] so there&#39;s our three files downloaded so
[1194.80 - 1198.72] i&#39;ll come back once those are downloaded
[1196.64 - 1200.16] okay so the files are downloaded now so
[1198.72 - 1202.96] i&#39;m going to open these
[1200.16 - 1203.44] and paste them into my folder so they
[1202.96 - 1205.68] are
[1203.44 - 1207.68] i&#39;m just going to rename them track one
[1205.68 - 1210.24] track two and track three
[1207.68 - 1212.00] just to keep it easy so track one okay
[1210.24 - 1214.96] so there&#39;s my files
[1212.00 - 1215.28] so what we basically need to add now is
[1214.96 - 1221.84] a
[1215.28 - 1221.84] select element in here
[1224.16 - 1229.28] and then the three different options
[1227.28 - 1231.60] like that and then just in here we&#39;re
[1229.28 - 1234.88] gonna add a value
[1231.60 - 1236.32] of one will default to the first one
[1234.88 - 1237.44] being selected
[1236.32 - 1239.92] and then all we&#39;re going to add
[1237.44 - 1242.24] underneath is a button that will say
[1239.92 - 1242.24] play
[1242.96 - 1247.28] and then in our popout.js we&#39;re going to
[1245.36 - 1248.56] add an event listener for when this play
[1247.28 - 1250.96] button is clicked
[1248.56 - 1252.32] and that will then send a message to our
[1250.96 - 1254.56] background page
[1252.32 - 1256.88] so that&#39;ll be in here now what we&#39;re
[1254.56 - 1257.68] going to do next is add a background
[1256.88 - 1260.08] page
[1257.68 - 1263.84] so that&#39;ll just be a new file in here
[1260.08 - 1263.84] called background
[1264.64 - 1268.72] and then in here this is going to be
[1267.76 - 1270.88] it&#39;s not going to be visible on the
[1268.72 - 1273.44] screen so it&#39;s just going to be an audio
[1270.88 - 1275.28] element with the source of this actual
[1273.44 - 1276.96] file
[1275.28 - 1279.20] so if we had it like this and we added
[1276.96 - 1280.88] it to say auto play
[1279.20 - 1282.24] if we added this extension in it should
[1280.88 - 1284.56] start playing straight away so if we
[1282.24 - 1286.00] just check this now
[1284.56 - 1287.92] so here&#39;s what we have so far so we&#39;ve
[1286.00 - 1289.60] got play random music
[1287.92 - 1290.80] track one track two track three so we&#39;re
[1289.60 - 1292.00] going to change this and change the
[1290.80 - 1295.20] manifest
[1292.00 - 1296.40] um to be our epic mode extension that we
[1295.20 - 1300.08] want to have
[1296.40 - 1300.08] so again we&#39;re going to close epic mode
[1300.72 - 1306.72] make browsing epic there we have it
[1303.60 - 1308.24] we&#39;ll change the title here to epic mode
[1306.72 - 1310.16] and then what we actually need to do is
[1308.24 - 1312.32] add our background page
[1310.16 - 1314.16] into our manifest as well so as we did
[1312.32 - 1315.76] last time for the word of the day
[1314.16 - 1317.36] we&#39;ll just copy this across just to make
[1315.76 - 1321.28] it faster
[1317.36 - 1323.76] but one thing we need to change in here
[1321.28 - 1324.72] where we had persistent false before
[1323.76 - 1326.88] because this is
[1324.72 - 1329.44] a audio element it&#39;s going to play for a
[1326.88 - 1332.64] long time or potentially a long time
[1329.44 - 1334.40] with the size and duration of these uh
[1332.64 - 1336.16] files we need to make sure we change
[1334.40 - 1338.24] this to true
[1336.16 - 1340.24] now just to point out this isn&#39;t the
[1338.24 - 1341.44] best way of doing something like this
[1340.24 - 1343.20] if you&#39;re using it in production
[1341.44 - 1343.52] especially manifest version 3 is coming
[1343.20 - 1345.60] out
[1343.52 - 1346.64] you&#39;ll probably have to change this um
[1345.60 - 1349.68] but for the
[1346.64 - 1351.84] this for this video it&#39;s okay um
[1349.68 - 1353.04] it will work and it will be this example
[1351.84 - 1354.56] um because what we&#39;re trying to do here
[1353.04 - 1355.68] is show how you can quickly put together
[1354.56 - 1358.00] extensions
[1355.68 - 1359.12] as an mvp or a way to prove how an idea
[1358.00 - 1362.32] could work
[1359.12 - 1363.04] so there is a background page so if we
[1362.32 - 1366.64] go back
[1363.04 - 1366.64] and refresh our extension
[1366.80 - 1371.52] you can hear the music is playing so
[1369.28 - 1374.16] that means that the
[1371.52 - 1376.80] code in our background page is working
[1374.16 - 1379.04] so we can take away this autoplay
[1376.80 - 1381.84] part just here and just give this audio
[1379.04 - 1381.84] element a class
[1385.04 - 1390.08] like that and then we&#39;re just gonna stop
[1388.32 - 1392.40] this extension okay stop that from
[1390.08 - 1392.40] playing
[1392.56 - 1397.84] and then all we need to do is add a
[1395.52 - 1399.44] javascript file for our background page
[1397.84 - 1400.80] as well so something we can send a
[1399.44 - 1404.64] message to
[1400.80 - 1409.04] um so what we&#39;ll do is add a new script
[1404.64 - 1411.68] in here so we&#39;ll call it background.js
[1409.04 - 1414.08] and then we&#39;ll just add that into the
[1411.68 - 1417.84] background page
[1414.08 - 1417.84] like this
[1417.92 - 1421.92] okay so that&#39;s like that and then if we
[1421.28 - 1425.20] just go
[1421.92 - 1428.32] now across to our popout.js what we&#39;re
[1425.20 - 1431.68] going to do is say document
[1428.32 - 1432.40] query selector and then we want to
[1431.68 - 1436.08] listen for our
[1432.40 - 1440.80] button then we&#39;re going to say add
[1436.08 - 1443.68] event listener for a click
[1440.80 - 1444.08] and then we&#39;ll run this function then in
[1443.68 - 1446.32] here
[1444.08 - 1447.60] what we want to do is first find out
[1446.32 - 1451.44] what is the value
[1447.60 - 1452.88] of our selected element so if we go over
[1451.44 - 1458.08] here
[1452.88 - 1459.12] and see this here and inspect
[1458.08 - 1461.68] just make sure we can see what we&#39;re
[1459.12 - 1466.08] doing if we do
[1461.68 - 1466.08] document query selector
[1466.64 - 1470.40] select that should grab this element
[1468.24 - 1473.52] just here and we want to find
[1470.40 - 1474.80] the value of our selected element so
[1473.52 - 1477.12] let&#39;s see that&#39;s one
[1474.80 - 1479.20] and if we change it to two and then just
[1477.12 - 1480.48] go back over here
[1479.20 - 1481.84] and run it again you can see it&#39;s
[1480.48 - 1483.20] changing so that&#39;s the code that we want
[1481.84 - 1486.08] to use to grab
[1483.20 - 1489.20] the value of our selected element so if
[1486.08 - 1494.88] we go in here we&#39;ll say
[1489.20 - 1494.88] value or selected track
[1495.52 - 1499.04] equals this and then what we&#39;re going to
[1497.60 - 1501.36] do now is similar to
[1499.04 - 1503.04] in the word of the day function if we
[1501.36 - 1505.12] look in our script just here
[1503.04 - 1506.88] we can see we&#39;re sending a message now
[1505.12 - 1508.56] all we need to do here is just copy this
[1506.88 - 1512.72] first part
[1508.56 - 1515.84] and say send message play track
[1512.72 - 1515.84] and then track
[1519.20 - 1523.04] is cell track we don&#39;t need to wait for
[1521.28 - 1525.52] a response
[1523.04 - 1525.52] so this
[1526.24 - 1530.16] is all we need to do then just make sure
[1528.88 - 1532.24] that we close
[1530.16 - 1533.28] the event listener off like that so what
[1532.24 - 1536.56] we have now in this
[1533.28 - 1539.36] uh code just here is our pop-out
[1536.56 - 1541.12] html file is going to open up it&#39;s going
[1539.36 - 1542.56] to show the selector
[1541.12 - 1545.20] and the button when they click the
[1542.56 - 1546.16] button in our popup.js file just here
[1545.20 - 1549.12] we&#39;re going to wait
[1546.16 - 1550.56] and listen for that event grab the track
[1549.12 - 1551.84] that they&#39;ve selected
[1550.56 - 1553.76] and then pass that through to our
[1551.84 - 1555.92] background page
[1553.76 - 1557.52] so in our background page i&#39;m sure you
[1555.92 - 1558.64] can guess by now we need to do what we
[1557.52 - 1560.96] did similar
[1558.64 - 1561.84] to our word of the day function is we&#39;re
[1560.96 - 1566.00] going to add a
[1561.84 - 1570.96] listener in here
[1566.00 - 1572.80] to see which events have been fired
[1570.96 - 1574.80] so we&#39;re listening out for a particular
[1572.80 - 1578.08] event so what do we call it again
[1574.80 - 1579.84] play track so if we hear the
[1578.08 - 1582.16] uh play track message we want to run
[1579.84 - 1586.32] this code in here
[1582.16 - 1589.28] so all this needs to do is adjust
[1586.32 - 1590.48] the audio element in our background page
[1589.28 - 1594.16] so what we&#39;re going to say
[1590.48 - 1597.12] in here is document
[1594.16 - 1598.32] query selector audio element i want to
[1597.12 - 1601.92] grab that
[1598.32 - 1603.68] so we first say audio element
[1601.92 - 1605.44] equals this and then we can just say
[1603.68 - 1608.64] audio element
[1605.44 - 1611.84] source equals
[1608.64 - 1614.80] and then we just check what this was
[1611.84 - 1615.92] so we&#39;re just saying here it&#39;s this but
[1614.80 - 1616.80] obviously we need to make a slight
[1615.92 - 1620.48] change
[1616.80 - 1624.08] so it&#39;ll be um we&#39;ll say track
[1620.48 - 1624.08] name equals message
[1624.40 - 1630.32] what do we pass in again so it&#39;s
[1627.32 - 1630.32] message.track
[1631.84 - 1635.68] just here so then we would just update
[1634.08 - 1639.36] this part just here
[1635.68 - 1640.32] with our track name so i&#39;ll update the
[1639.36 - 1641.68] source
[1640.32 - 1644.00] and all you need to do is say audio
[1641.68 - 1646.80] element play
[1644.00 - 1648.32] so that should do what we need to do so
[1646.80 - 1650.80] we&#39;ll just check this then we make a few
[1648.32 - 1654.64] styling edits for this extension
[1650.80 - 1657.52] so let&#39;s go across now and refresh
[1654.64 - 1658.40] go to our page over here to make a new
[1657.52 - 1662.16] tab
[1658.40 - 1664.96] click on our epic mode select a track
[1662.16 - 1664.96] and press play
[1666.80 - 1669.92] and it&#39;s working so if we then change
[1668.56 - 1671.92] this track if i just turn the volume
[1669.92 - 1674.48] right up
[1671.92 - 1675.84] you can hear that if we change the track
[1674.48 - 1677.60] three
[1675.84 - 1679.84] press play it stops and starts playing
[1677.60 - 1683.44] the next one
[1679.84 - 1684.88] if i can hear it yeah
[1683.44 - 1686.48] so if we click away from our pop out you
[1684.88 - 1689.76] can see it still works
[1686.48 - 1694.88] so if i go and browse any website
[1689.76 - 1694.88] like this for example we can see
[1695.12 - 1698.40] it&#39;s not affected by any of the tabs
[1697.36 - 1699.84] that i go on to
[1698.40 - 1701.76] so that&#39;s playing within our background
[1699.84 - 1703.04] page now again as i mentioned it&#39;s not
[1701.76 - 1704.72] the best way to do it through a
[1703.04 - 1706.24] persistent background page
[1704.72 - 1708.16] but for this example you can see we&#39;ve
[1706.24 - 1709.68] tested this idea and then you could
[1708.16 - 1711.44] share this across to a few people to see
[1709.68 - 1712.72] if it&#39;s something they&#39;re interested in
[1711.44 - 1714.16] and if you found that people are using
[1712.72 - 1715.84] your idea you can then spend more time
[1714.16 - 1717.84] to look into this idea
[1715.84 - 1719.76] this is a great way to build a quick mvp
[1717.84 - 1721.44] using the extension
[1719.76 - 1724.00] so finally before we finish off this one
[1721.44 - 1726.80] we&#39;re going to just adjust the uh design
[1724.00 - 1727.92] over here a little bit so let&#39;s just um
[1726.80 - 1729.28] stop this from playing we should
[1727.92 - 1730.08] probably add a pause button as well
[1729.28 - 1733.12] actually
[1730.08 - 1734.88] so let&#39;s add that in now so to add a
[1733.12 - 1738.00] pause button we&#39;re going to go back to
[1734.88 - 1742.08] our popout.html and add another
[1738.00 - 1743.68] button just here called pause
[1742.08 - 1745.60] and what we should probably do next is
[1743.68 - 1748.40] add some classes in here
[1745.60 - 1750.56] so i say pause and add a class here
[1748.40 - 1753.36] that&#39;ll say play
[1750.56 - 1756.48] and then in our popout.js we&#39;re going to
[1753.36 - 1759.76] make sure we change this to be button
[1756.48 - 1760.72] play and then we&#39;ll add another event
[1759.76 - 1764.08] listener
[1760.72 - 1765.60] on button pause and then all this will
[1764.08 - 1767.68] do
[1765.60 - 1770.24] is uh we don&#39;t need to get the selected
[1767.68 - 1771.44] track so we can get rid of this bit
[1770.24 - 1774.48] and then we&#39;re going to change this to
[1771.44 - 1774.48] say pause track
[1777.36 - 1780.80] so we&#39;ll save that just there then we
[1779.44 - 1782.48] want to add a little bit of styling so
[1780.80 - 1785.76] we&#39;re just going to say
[1782.48 - 1787.36] epic mode up here now i want to keep the
[1785.76 - 1788.72] styling really simple so if you want to
[1787.36 - 1791.68] add your own
[1788.72 - 1794.56] design to this and launch it you can so
[1791.68 - 1797.84] we&#39;ll just put a body
[1794.56 - 1801.04] a width for about 400 pixels
[1797.84 - 1803.84] background of gray again and just try
[1801.04 - 1806.40] that so what have we got so far
[1803.84 - 1807.68] so there&#39;s our new display so we have
[1806.40 - 1808.96] our pause button but at the moment we
[1807.68 - 1810.56] haven&#39;t linked this up to anything so if
[1808.96 - 1811.68] we press play
[1810.56 - 1814.80] we can hear that this is playing the
[1811.68 - 1816.08] music and in the new um
[1814.80 - 1818.16] version of chrome you can see this
[1816.08 - 1819.44] information over here but if we then
[1818.16 - 1820.96] press pause
[1819.44 - 1822.96] so i just turn the volume up a little
[1820.96 - 1824.16] bit at the moment this isn&#39;t doing
[1822.96 - 1825.36] anything
[1824.16 - 1828.48] so i&#39;m just going to refresh that to
[1825.36 - 1830.40] stop it so what we need to do is go to
[1828.48 - 1832.80] our background.js
[1830.40 - 1834.08] and add an event listener well add to
[1832.80 - 1836.32] our event listener
[1834.08 - 1837.60] for this extra new event so we&#39;re going
[1836.32 - 1841.92] to change this
[1837.60 - 1844.16] to pause track over here
[1841.92 - 1845.52] and then i&#39;m sure you can probably guess
[1844.16 - 1848.08] where i&#39;m going with this
[1845.52 - 1850.16] we need to get our audio element again
[1848.08 - 1853.04] and then instead of play
[1850.16 - 1853.04] it&#39;s going to be pause
[1854.80 - 1859.76] like that so if we refresh our extension
[1858.56 - 1862.56] now
[1859.76 - 1864.32] we can test this out so let&#39;s go to
[1862.56 - 1865.60] another tab again refresh to make sure
[1864.32 - 1868.72] up to date
[1865.60 - 1871.20] go to our epic mode pick a track
[1868.72 - 1874.31] press play see if we can hear anything
[1871.20 - 1874.31] [Music]
[1876.32 - 1880.16] okay so we can hear it now and if i
[1878.40 - 1882.72] press pause
[1880.16 - 1884.72] it stops it okay so that is epic mode
[1882.72 - 1886.80] you can find all of the code for that
[1884.72 - 1888.96] included in the description as well okay
[1886.80 - 1889.92] so next we&#39;re going to be making our
[1888.96 - 1891.76] to-do list
[1889.92 - 1893.20] extension now this is going to be in a
[1891.76 - 1896.40] pop out in the corner
[1893.20 - 1897.60] as we did earlier with our epic mode
[1896.40 - 1901.04] extension
[1897.60 - 1904.00] now this one is going to let us
[1901.04 - 1905.60] store our to-do items to local storage
[1904.00 - 1907.20] and then we can mark them as complete
[1905.60 - 1908.72] and then when we&#39;re
[1907.20 - 1910.08] finished with them and we want to just
[1908.72 - 1911.12] clean up our to-do list we can then
[1910.08 - 1913.20] delete them
[1911.12 - 1914.88] from that list so it&#39;s going to be based
[1913.20 - 1915.44] around local storage and we&#39;re going to
[1914.88 - 1917.44] have one
[1915.44 - 1919.28] json object that we&#39;re going to be
[1917.44 - 1921.36] loading when we open up the extension
[1919.28 - 1924.40] and we&#39;ll make all our updates
[1921.36 - 1925.52] into this json object as well so let&#39;s
[1924.40 - 1928.88] start by going
[1925.52 - 1932.32] over to atom again and we&#39;re going
[1928.88 - 1934.72] to duplicate the pop out
[1932.32 - 1936.24] option here so we&#39;ll go in here
[1934.72 - 1938.64] duplicate
[1936.24 - 1940.56] actually we&#39;ll probably duplicate the
[1938.64 - 1941.92] epic mode just because that&#39;s
[1940.56 - 1944.00] got a little bit more code in there so
[1941.92 - 1945.92] it&#39;s easier for us to follow
[1944.00 - 1947.36] and again saves time so we&#39;re going to
[1945.92 - 1952.32] call this
[1947.36 - 1952.32] to do so really simple to do list
[1952.56 - 1956.40] and then here we have it down here so
[1954.64 - 1958.56] we&#39;re going to close everything else
[1956.40 - 1960.40] and then open up our to-do list so let&#39;s
[1958.56 - 1962.64] go to the manifest first
[1960.40 - 1964.16] after we delete our music okay so let&#39;s
[1962.64 - 1965.68] go to the manifest
[1964.16 - 1969.28] and change the name so we&#39;re going to
[1965.68 - 1969.28] call this to-do list
[1971.12 - 1974.40] this one won&#39;t need a background page so
[1973.12 - 1975.76] we&#39;re um
[1974.40 - 1978.36] that saved us a bit of time there as
[1975.76 - 1982.40] well so we can delete the
[1978.36 - 1982.40] background.html and background.js
[1983.04 - 1986.72] just there okay so all we need is our
[1985.24 - 1991.60] popup.html
[1986.72 - 1993.52] and uh popout.js so in our pop out.html
[1991.60 - 1996.16] we&#39;re going to change the display here a
[1993.52 - 1999.92] little bit so let&#39;s remove this styling
[1996.16 - 1999.92] change this up here to say to-do list
[2000.72 - 2005.04] and up here we&#39;re just going to say my
[2003.60 - 2008.40] to-do&#39;s
[2005.04 - 2011.28] like that okay so
[2008.40 - 2012.72] we&#39;re going to remove all of this code
[2011.28 - 2014.08] and then we&#39;re going to think about how
[2012.72 - 2017.28] exactly we want this to
[2014.08 - 2019.92] display so ideally we want to have
[2017.28 - 2020.64] a number of rows and then on these rows
[2019.92 - 2024.40] we can find
[2020.64 - 2026.88] out the status of each of these
[2024.40 - 2028.32] items so it could look something like
[2026.88 - 2031.92] this we could have a
[2028.32 - 2033.84] an unordered list which we could adapt
[2031.92 - 2037.76] or we could have
[2033.84 - 2039.68] a div and then inside here we have other
[2037.76 - 2042.64] divs
[2039.68 - 2043.60] like that these could be our items and
[2042.64 - 2045.60] that&#39;s just like a hold
[2043.60 - 2046.88] element but for now i think we should
[2045.60 - 2049.44] just use an
[2046.88 - 2052.08] unordered list um which we can then
[2049.44 - 2053.84] style and adapt before we need
[2052.08 - 2056.64] so then each of our to-do&#39;s become a
[2053.84 - 2059.76] list item now inside here
[2056.64 - 2060.00] we should probably add a button to mark
[2059.76 - 2063.60] as
[2060.00 - 2066.08] complete and a button to just delete
[2063.60 - 2067.04] so what we&#39;ll do is first we&#39;ll set it
[2066.08 - 2069.76] up here and then we&#39;re going to
[2067.04 - 2071.36] adapt this in javascript as well so
[2069.76 - 2077.20] first we&#39;ll have
[2071.36 - 2077.20] a little line of text so a simple to do
[2078.64 - 2083.20] like this so record next video and then
[2081.28 - 2086.40] over at the side here
[2083.20 - 2089.84] we&#39;re going to have a span which is
[2086.40 - 2089.84] complete or we could have a tick
[2090.00 - 2093.36] so we use emojis for this
[2097.68 - 2105.52] and then we have another span
[2102.88 - 2105.52] to delete
[2108.56 - 2112.80] okay so if we just test this by copying
[2110.64 - 2114.08] this and pasting it a couple of times
[2112.80 - 2117.60] and then we&#39;re going to open up this
[2114.08 - 2121.12] extension so if we go over here
[2117.60 - 2123.44] find our to-do list pin it open up
[2121.12 - 2124.72] okay so we can see that this is it looks
[2123.44 - 2126.72] a little bit like a to-do list but we
[2124.72 - 2129.76] need a little bit of styling here now
[2126.72 - 2130.64] so let&#39;s go over to our style block over
[2129.76 - 2132.64] here
[2130.64 - 2134.00] we&#39;re going to add a class to our ul and
[2132.64 - 2139.12] we&#39;re going to call this
[2134.00 - 2145.52] to do items and then we&#39;ll copy this
[2139.12 - 2148.64] put it over here so just say margin none
[2145.52 - 2152.64] padding none and then add that as well
[2148.64 - 2152.64] to the allies inside of here
[2153.84 - 2157.44] like that and then we actually need to
[2156.16 - 2160.40] do as well is
[2157.44 - 2164.56] extend the width of the page so let&#39;s
[2160.40 - 2164.56] just set that as 350 pixels
[2165.60 - 2168.80] maybe slightly less maybe just 300 okay
[2168.32 - 2170.80] so
[2168.80 - 2172.96] in here now we want to remove this this
[2170.80 - 2175.44] dot here so we just say list
[2172.96 - 2176.80] style none one thing we&#39;ve just noticed
[2175.44 - 2178.72] is that&#39;s not
[2176.80 - 2180.40] we need to put that like that now if we
[2178.72 - 2182.00] refresh we should see
[2180.40 - 2184.08] the changes here okay so there we go now
[2182.00 - 2185.44] we&#39;ve got our items
[2184.08 - 2187.44] we want to add a little bit of padding
[2185.44 - 2189.12] just to the item itself not the uh
[2187.44 - 2192.72] container
[2189.12 - 2195.76] so we&#39;ll grab this one just here
[2192.72 - 2197.92] paste that underneath and just put a
[2195.76 - 2202.48] padding of 10 pixels
[2197.92 - 2205.60] and a border bottom of two pixels
[2202.48 - 2208.24] gray okay that&#39;s
[2205.60 - 2210.80] almost what we want and now we just need
[2208.24 - 2213.44] to make sure that we have our icons
[2210.80 - 2214.96] at the end of the row so we&#39;ll do it
[2213.44 - 2220.24] just by saying
[2214.96 - 2223.76] display flex justify content space
[2220.24 - 2226.16] between so if we refresh this now
[2223.76 - 2228.80] we can see we have these buttons here
[2226.16 - 2231.68] which is almost right um
[2228.80 - 2233.92] i mean for now this is perfect but we
[2231.68 - 2237.20] probably want to make sure that this
[2233.92 - 2238.72] uh span is inside these bands are inside
[2237.20 - 2240.08] of an element so if we just put this
[2238.72 - 2243.20] inside of a
[2240.08 - 2245.28] a div just here
[2243.20 - 2246.88] and then copy that across that&#39;ll just
[2245.28 - 2248.56] nestle them next to each other so we can
[2246.88 - 2252.00] adjust the padding between the two
[2248.56 - 2255.12] icons uh separately yeah like that
[2252.00 - 2257.60] okay so that&#39;s what we want here um and
[2255.12 - 2262.32] maybe add a slight hover effect
[2257.60 - 2262.32] so if we go to this something like that
[2262.56 - 2266.32] okay so we can get a nice hover effect
[2264.48 - 2267.76] now for these icons here
[2266.32 - 2269.60] if we tick it we just want to have a
[2267.76 - 2271.68] strikethrough and
[2269.60 - 2273.04] if we press the bin it&#39;s going to be
[2271.68 - 2275.92] removed
[2273.04 - 2276.48] so again we&#39;ll just test the styling
[2275.92 - 2279.76] here so
[2276.48 - 2281.52] for this to do items if it&#39;s complete
[2279.76 - 2284.08] we&#39;re going to add a class
[2281.52 - 2284.88] called done so if we just force this
[2284.08 - 2286.72] class here
[2284.88 - 2288.24] or this item to have that class i will
[2286.72 - 2292.72] say done
[2288.24 - 2296.32] then we&#39;ll say text decoration
[2292.72 - 2297.36] line through so that first one now
[2296.32 - 2299.76] should have
[2297.36 - 2302.32] a line through it there we go but it
[2299.76 - 2304.80] probably shouldn&#39;t be
[2302.32 - 2305.52] across all of this so what we&#39;ll do is
[2304.80 - 2312.88] just add
[2305.52 - 2315.92] a another span here
[2312.88 - 2317.44] for our actual text element
[2315.92 - 2319.52] and if we have that class we&#39;ll make
[2317.44 - 2322.48] sure that first one
[2319.52 - 2324.40] is only applying it to that first span
[2322.48 - 2326.56] so we just put a little class in here
[2324.40 - 2331.44] called item
[2326.56 - 2331.44] and then if it&#39;s done we&#39;ll say
[2332.88 - 2336.56] item line three so if we look at this
[2335.36 - 2339.84] now
[2336.56 - 2340.32] yeah we can see that that&#39;s crossed out
[2339.84 - 2341.84] and then
[2340.32 - 2343.36] if we would press it for another one
[2341.84 - 2344.48] that would cross the right now for that
[2343.36 - 2346.32] as well
[2344.48 - 2347.76] so that is all we need here let&#39;s add a
[2346.32 - 2350.48] little bit more padding
[2347.76 - 2350.80] between these two items so if we just go
[2350.48 - 2354.16] to
[2350.80 - 2357.36] to do
[2354.16 - 2361.68] items div
[2357.36 - 2365.36] span then we&#39;ll say margin
[2361.68 - 2367.44] 5 pixels that should uh just about do it
[2365.36 - 2369.12] yeah there we go we&#39;ve got a nice little
[2367.44 - 2370.24] display there
[2369.12 - 2372.56] we&#39;ll just make these a little bit
[2370.24 - 2372.56] bigger
[2372.81 - 2375.90] [Music]
[2376.40 - 2379.20] and add a cursor
[2380.24 - 2382.88] okay so these now look clickable there&#39;s
[2381.52 - 2385.04] enough space between so you won&#39;t
[2382.88 - 2387.92] accidentally click the wrong one
[2385.04 - 2389.36] and if we click these we can then adjust
[2387.92 - 2390.24] these documents okay so that&#39;s what we
[2389.36 - 2392.16] need there
[2390.24 - 2393.84] now let&#39;s make adjacent object that we
[2392.16 - 2396.80] can start to manipulate
[2393.84 - 2397.68] when we are storing this to our local
[2396.80 - 2398.96] storage
[2397.68 - 2400.32] so what we want to do is on our
[2398.96 - 2401.44] popout.js now which we&#39;re going to
[2400.32 - 2404.56] switch to
[2401.44 - 2405.76] we want to remove everything here and
[2404.56 - 2409.04] we&#39;re going to first
[2405.76 - 2412.96] write out a default json object so
[2409.04 - 2417.12] let&#39;s just say const items
[2412.96 - 2419.12] equals this object and then this object
[2417.12 - 2420.88] uh actually this will be an array of
[2419.12 - 2423.36] objects
[2420.88 - 2425.44] so this will be our first one just here
[2423.36 - 2428.48] so we&#39;ll have
[2425.44 - 2430.88] item so this will be the
[2428.48 - 2430.88] actual
[2432.96 - 2436.84] to do so let&#39;s just again say record
[2435.84 - 2440.40] next
[2436.84 - 2443.44] video and then we&#39;ll have the status
[2440.40 - 2446.56] so status and this will either be
[2443.44 - 2447.55] let&#39;s just put zero or one so again this
[2446.56 - 2448.80] one here
[2447.55 - 2452.96] [Music]
[2448.80 - 2455.76] is zero and this one will be one
[2452.96 - 2456.72] so this is our example one and then all
[2455.76 - 2460.32] we want to do
[2456.72 - 2464.84] is say um
[2460.32 - 2468.96] const item string equals
[2464.84 - 2468.96] json stringify
[2469.20 - 2474.64] items so if we console log this
[2473.04 - 2476.88] we should see what this actually looks
[2474.64 - 2479.28] like in action
[2476.88 - 2480.80] so if we go over to here again inspect
[2479.28 - 2483.12] elements
[2480.80 - 2484.48] go to our console we can see here that
[2483.12 - 2486.32] we have this list
[2484.48 - 2487.92] but if we were to go back now and add
[2486.32 - 2492.24] another console log
[2487.92 - 2493.92] up here just of items
[2492.24 - 2496.32] we can see this is we can interact with
[2493.92 - 2498.96] this one so if we refresh
[2496.32 - 2500.96] there&#39;s our items we can interact with
[2498.96 - 2502.48] but when you save this to local storage
[2500.96 - 2504.72] it needs to
[2502.48 - 2506.64] be in this string format so it&#39;s just
[2504.72 - 2511.36] this extra step that we need to do
[2506.64 - 2515.60] so what we&#39;ll have is a function up here
[2511.36 - 2517.04] called fetch items
[2515.60 - 2519.36] and this will make a call to local
[2517.04 - 2524.56] storage to fetch our items
[2519.36 - 2524.56] and decode it this will basically be
[2528.85 - 2531.95] [Music]
[2532.40 - 2536.96] like that and then we&#39;ll have another
[2534.96 - 2539.92] function down here
[2536.96 - 2540.72] to save items so whenever we make any
[2539.92 - 2543.04] changes
[2540.72 - 2544.56] we want to save items down here and that
[2543.04 - 2545.36] reminds me actually one thing we need to
[2544.56 - 2548.24] do
[2545.36 - 2549.36] is add a button so we can create a new a
[2548.24 - 2551.76] new to do
[2549.36 - 2554.48] so down here we&#39;ll just have a button at
[2551.76 - 2554.48] the top here
[2554.52 - 2557.59] [Music]
[2560.48 - 2564.80] called create to do and we&#39;ll just say
[2562.24 - 2568.08] new item
[2564.80 - 2568.08] let&#39;s have a quick look at that
[2570.40 - 2573.52] maybe a little bit of padding around it
[2572.40 - 2576.64] but that should be nice
[2573.52 - 2578.56] and if we click that we&#39;ll just have a
[2576.64 - 2579.92] box up here we can enter in our item and
[2578.56 - 2581.92] then save
[2579.92 - 2583.68] so let&#39;s just add this area as well so
[2581.92 - 2587.20] we&#39;ll call it
[2583.68 - 2589.28] new item
[2587.20 - 2591.12] and then this will default to be hidden
[2589.28 - 2594.88] okay and then in here
[2591.12 - 2594.88] we&#39;ll just have a input field
[2597.28 - 2603.76] and another button called
[2601.52 - 2603.76] save
[2605.52 - 2609.68] so once that&#39;s pressed that&#39;ll get saved
[2607.84 - 2611.52] into our object
[2609.68 - 2613.04] so we&#39;ll save this for now and nev
[2611.52 - 2614.80] whenever this is clicked
[2613.04 - 2616.24] this will toggle that to appear so let&#39;s
[2614.80 - 2619.28] just make a note
[2616.24 - 2620.64] of this here so our button um here so if
[2619.28 - 2621.92] this is pressed we need to make sure it
[2620.64 - 2624.56] makes that
[2621.92 - 2627.04] input area appear so that&#39;s new item
[2624.56 - 2627.04] just here
[2631.04 - 2637.85] so on click that will open this
[2634.72 - 2639.44] area just here and then for this one
[2637.85 - 2641.02] [Music]
[2639.44 - 2642.88] if the button&#39;s pressed
[2641.02 - 2645.28] [Music]
[2642.88 - 2646.24] it will save it and then hide that new
[2645.28 - 2649.84] item
[2646.24 - 2652.72] so save and hide
[2649.84 - 2655.04] new item so these will be the event
[2652.72 - 2656.88] listeners we need to link up in a moment
[2655.04 - 2659.36] but first what we&#39;re going to do is just
[2656.88 - 2661.92] make sure that we have
[2659.36 - 2663.60] a default items saved in so when we have
[2661.92 - 2666.96] our fetch items just here
[2663.60 - 2668.64] it&#39;s going to try and grab this from
[2666.96 - 2670.64] the local storage but we&#39;ll put this in
[2668.64 - 2673.68] a try block just in case in case
[2670.64 - 2675.12] there&#39;s this is empty so what we&#39;ll do
[2673.68 - 2677.92] is we&#39;ll say try
[2675.12 - 2678.56] and then enter our code and then put
[2677.92 - 2681.04] catch
[2678.56 - 2683.12] e and i&#39;ll just catch any errors um just
[2681.04 - 2684.72] here and then if there are errors we&#39;ll
[2683.12 - 2687.60] create
[2684.72 - 2688.80] a default a default item list so that&#39;ll
[2687.60 - 2690.16] probably be something similar to this
[2688.80 - 2692.80] but just with no
[2690.16 - 2694.48] objects inside there so next now that we
[2692.80 - 2696.88] know we&#39;ve got our items
[2694.48 - 2697.76] we want to create a for loop that will
[2696.88 - 2700.72] loop over
[2697.76 - 2700.72] all of our items
[2701.20 - 2706.08] like this so it&#39;d be an items array but
[2704.16 - 2707.36] first we need to convert this from a
[2706.08 - 2710.00] json string
[2707.36 - 2710.72] or a stringify json string into adjacent
[2710.00 - 2714.00] object
[2710.72 - 2717.36] so to do that we&#39;re going to say const
[2714.00 - 2718.56] items array or in this case variable
[2717.36 - 2722.56] items array
[2718.56 - 2725.12] equals json pass
[2722.56 - 2726.32] and then the item stringified string
[2725.12 - 2727.44] that we saw up here
[2726.32 - 2729.76] that we&#39;re going to save to local
[2727.44 - 2731.84] storage so that&#39;ll be just here
[2729.76 - 2733.60] and then down here what we&#39;re going to
[2731.84 - 2736.24] do whenever a change has been made
[2733.60 - 2738.16] we&#39;re going to pass in a string and then
[2736.24 - 2740.80] save that to our local storage
[2738.16 - 2741.84] so all we need to do for that is just
[2740.80 - 2744.00] say
[2741.84 - 2746.08] if i just scroll down here so we have
[2744.00 - 2747.44] our string
[2746.08 - 2750.24] it can either be a string or it could be
[2747.44 - 2752.00] the object let&#39;s just say object
[2750.24 - 2753.92] so then all we would do is we&#39;d say
[2752.00 - 2758.16] string equals
[2753.92 - 2760.40] json stringify and then
[2758.16 - 2761.76] then we have the object and then all we
[2760.40 - 2764.64] need to do is say
[2761.76 - 2764.64] local storage
[2765.52 - 2771.12] set item to do items
[2768.80 - 2771.84] and then pass in our string so that will
[2771.12 - 2774.16] save it
[2771.84 - 2775.76] and that&#39;ll fetch it so now for this to
[2774.16 - 2777.76] actually appear on the page
[2775.76 - 2779.68] we need to go in and make sure that we
[2777.76 - 2783.36] are updating our
[2779.68 - 2786.64] unordered list so this part just here
[2783.36 - 2789.52] with uh the new items
[2786.64 - 2791.12] so if we just copy this for a moment and
[2789.52 - 2792.08] remember that we want to fetch the to-do
[2791.12 - 2795.20] items
[2792.08 - 2800.64] so in here we would have
[2795.20 - 2803.68] a would grab this element so i say
[2800.64 - 2806.42] const items list equals
[2803.68 - 2809.47] document query selector
[2806.42 - 2809.47] [Music]
[2810.40 - 2816.72] unordered list and then to do items if
[2813.84 - 2819.92] it&#39;s felt like that to do dash
[2816.72 - 2822.16] items like this
[2819.92 - 2824.08] so we&#39;ve grabbed that there and then all
[2822.16 - 2826.00] we need to do in here
[2824.08 - 2827.60] is say so we&#39;re going to first up here
[2826.00 - 2830.72] we say items
[2827.60 - 2832.08] list in html we&#39;re going to remove
[2830.72 - 2837.52] everything
[2832.08 - 2839.76] and then we&#39;re going to say new item
[2837.52 - 2840.64] html so we&#39;re going to set this string
[2839.76 - 2843.76] up here
[2840.64 - 2847.20] and then down here what we want to do
[2843.76 - 2848.64] is grab just this part just here so
[2847.20 - 2850.32] we&#39;re going to remove this first class
[2848.64 - 2852.96] there
[2850.32 - 2856.08] and we&#39;re going to set this into our
[2852.96 - 2859.84] array so we&#39;re going to say new item
[2856.08 - 2859.84] plus equals
[2860.48 - 2864.00] then have this just here i&#39;m just going
[2862.96 - 2868.32] to make this
[2864.00 - 2869.76] wrap around there we go
[2868.32 - 2872.72] and we&#39;re actually going to do because
[2869.76 - 2875.92] this is all in es6 is wrap it
[2872.72 - 2877.60] in these back ticks here so we can
[2875.92 - 2880.16] adjust the display a bit and go on to
[2877.60 - 2883.04] new lines like that
[2880.16 - 2883.76] so there we have it and then what we
[2883.04 - 2886.32] need to do
[2883.76 - 2887.28] is make sure that we pass in the
[2886.32 - 2891.12] different information
[2887.28 - 2893.20] if this item is
[2891.12 - 2894.64] if it&#39;s marked complete and then we can
[2893.20 - 2897.84] change this
[2894.64 - 2900.80] area just here to
[2897.84 - 2902.32] actually be our item so what we need to
[2900.80 - 2905.92] do
[2902.32 - 2907.44] is take note of the number in the index
[2905.92 - 2909.44] that this item is
[2907.44 - 2911.20] so we&#39;ll have a thing here where we put
[2909.44 - 2916.80] data
[2911.20 - 2916.80] item index and that will equal
[2919.44 - 2924.97] i and then in here
[2923.04 - 2926.32] we&#39;re going to replace this
[2924.97 - 2930.32] [Music]
[2926.32 - 2933.60] with the item part of this object
[2930.32 - 2933.60] so that&#39;ll be like this
[2935.44 - 2940.48] okay and then when we&#39;re checking to see
[2938.64 - 2942.96] if this is marked complete or not
[2940.48 - 2944.32] we need to check the status part of this
[2942.96 - 2947.44] so up here
[2944.32 - 2949.60] we&#39;re going to say if um items ray and
[2947.44 - 2952.80] then the number in this index
[2949.60 - 2953.28] status equals zero we don&#39;t want to do
[2952.80 - 2957.20] anything
[2953.28 - 2960.00] if it equals one we&#39;re going to set
[2957.20 - 2962.16] this class so if we remember over here
[2960.00 - 2965.92] we&#39;re going to set this class just here
[2962.16 - 2968.48] as done so if we go over to here
[2965.92 - 2968.48] we&#39;re going to say
[2969.60 - 2975.20] status equals empty
[2972.64 - 2978.24] but in here we&#39;re going to say status
[2975.20 - 2978.24] equals class done
[2978.48 - 2985.60] and then just in here all we need to do
[2982.16 - 2988.08] is just put status so if we remove this
[2985.60 - 2991.60] bit of code just here
[2988.08 - 2993.36] and save this nothing will happen just
[2991.60 - 2996.48] yet because we don&#39;t have any
[2993.36 - 3001.12] uh any data in our local storage
[2996.48 - 3003.76] but if we go to our extension over here
[3001.12 - 3003.76] and inspect
[3004.24 - 3008.00] and say fetch items we can run this code
[3006.80 - 3010.56] you can see that it removed
[3008.00 - 3012.40] all of the items just here but if we go
[3010.56 - 3016.16] ahead and take this
[3012.40 - 3018.40] uh code just here so this string object
[3016.16 - 3019.36] be sure to select it and if you say
[3018.40 - 3023.12] local storage
[3019.36 - 3025.12] set item and if you remember what we put
[3023.12 - 3029.44] here
[3025.12 - 3029.44] ah where was it to do items
[3031.20 - 3034.56] and then we&#39;re gonna put comma and then
[3034.16 - 3038.08] just
[3034.56 - 3038.08] make sure to be sure to get this just
[3038.84 - 3042.88] here
[3040.40 - 3044.08] like that and then save and then run
[3042.88 - 3046.40] fetch items again
[3044.08 - 3047.60] and the problem we have here is we need
[3046.40 - 3049.68] to go ahead and
[3047.60 - 3050.96] set this new inner html so once this for
[3049.68 - 3053.36] loop has ended
[3050.96 - 3055.44] if we go in here and set this to new
[3053.36 - 3058.88] item html
[3055.44 - 3063.28] and then go back to our code inspect
[3058.88 - 3066.16] element here run fetch items
[3063.28 - 3068.72] you can see now that this is if i just
[3066.16 - 3069.04] move this out the way that we can see we
[3068.72 - 3072.00] have
[3069.04 - 3072.72] a real item and our fake item just here
[3072.00 - 3077.28] so if we
[3072.72 - 3079.92] now remove this code from in here
[3077.28 - 3081.20] this is it&#39;s just an empty ul and then
[3079.92 - 3082.64] inside our pop-out
[3081.20 - 3084.64] at the bottom here we&#39;re going to run
[3082.64 - 3087.20] the code to say fetch
[3084.64 - 3087.20] items
[3087.76 - 3091.28] and what we will see if we go back and
[3089.28 - 3094.08] refresh it&#39;s
[3091.28 - 3095.36] remembering each time what we have here
[3094.08 - 3099.12] and if we were to go
[3095.36 - 3099.76] into the local storage and change this
[3099.12 - 3101.20] object
[3099.76 - 3102.40] obviously it won&#39;t be like this we&#39;ll
[3101.20 - 3103.60] we&#39;ll be able to change it within our
[3102.40 - 3105.28] own code
[3103.60 - 3107.04] um but if we see in here we have local
[3105.28 - 3110.16] storage and you can see
[3107.04 - 3111.68] the items that we have here now the way
[3110.16 - 3114.88] this works it displays
[3111.68 - 3116.88] the object um like this but you have to
[3114.88 - 3118.48] send it in as a string
[3116.88 - 3120.00] so that&#39;s one thing you want to really
[3118.48 - 3122.84] be careful for
[3120.00 - 3124.24] and if i change this title so i put new
[3122.84 - 3126.48] title
[3124.24 - 3128.16] over here and if we close this and open
[3126.48 - 3129.92] again you can see it&#39;s remembering
[3128.16 - 3132.08] exactly what we&#39;ve put
[3129.92 - 3133.36] so another thing you could do really if
[3132.08 - 3135.76] you&#39;re developing this
[3133.36 - 3136.64] at the same time is going ahead and
[3135.76 - 3138.48] changing
[3136.64 - 3140.32] the text here so making this a content
[3138.48 - 3140.96] editable or even having it as an input
[3140.32 - 3143.60] field
[3140.96 - 3144.40] that anytime there&#39;s a click event or on
[3143.60 - 3145.92] key up
[3144.40 - 3147.60] you change the text that&#39;s saved to
[3145.92 - 3149.04] local storage as well
[3147.60 - 3151.60] anyway quickly we&#39;re going to go ahead
[3149.04 - 3154.32] and add these next two parts just here
[3151.60 - 3155.52] so if any of these items are clicked we
[3154.32 - 3156.80] want to make sure
[3155.52 - 3158.80] that we have an event that&#39;s going to
[3156.80 - 3162.32] listen for this
[3158.80 - 3164.00] so down here we&#39;re going to add an on
[3162.32 - 3167.52] click event just here
[3164.00 - 3168.64] so where we have us the div element and
[3167.52 - 3173.36] our s bands
[3168.64 - 3176.08] i&#39;m going to say on click um
[3173.36 - 3178.32] item complete and then what we&#39;ll do is
[3176.08 - 3181.84] pass through this again
[3178.32 - 3181.84] just here
[3182.24 - 3185.84] so we want to make sure that we pass it
[3183.76 - 3189.76] in like that and now i have our
[3185.84 - 3192.56] item and then over here we want to
[3189.76 - 3193.68] make this say item delete okay so we can
[3192.56 - 3195.28] see this
[3193.68 - 3196.64] and then once we click these we&#39;re now
[3195.28 - 3197.44] going to add the functions for these to
[3196.64 - 3201.04] actually
[3197.44 - 3203.76] adjust so this is item delete so we add
[3201.04 - 3203.76] a function here
[3205.28 - 3208.40] so again we have the index that we&#39;re
[3206.72 - 3211.44] going to use
[3208.40 - 3215.60] just here and then the same thing
[3211.44 - 3216.88] for item complete we have our index
[3215.60 - 3219.04] what we need to make sure that we do
[3216.88 - 3221.60] though is over here when we&#39;re fetching
[3219.04 - 3222.16] our items from the storage we need to
[3221.60 - 3225.36] make sure
[3222.16 - 3226.64] that we can use this same code so again
[3225.36 - 3228.40] we&#39;re going to go over here
[3226.64 - 3229.76] we&#39;re going to copy this and the start
[3228.40 - 3230.48] of these functions we&#39;re going to paste
[3229.76 - 3232.48] this in
[3230.48 - 3233.92] now you could save this as a window
[3232.48 - 3235.12] variable but this just helps to make
[3233.92 - 3237.20] sure that it&#39;s always the most
[3235.12 - 3239.36] up-to-date code
[3237.20 - 3240.40] the only problem with that is if it&#39;s
[3239.36 - 3243.12] changing
[3240.40 - 3244.08] behind the scenes the index could change
[3243.12 - 3245.52] but
[3244.08 - 3247.84] thinking about it it should be the same
[3245.52 - 3251.52] because the change will be in this
[3247.84 - 3254.16] event just here so we&#39;ll paste this in
[3251.52 - 3255.68] again for these items just here and then
[3254.16 - 3259.28] all we need to do here
[3255.68 - 3261.04] is change the status for this item
[3259.28 - 3263.52] so to do that we just go to the items
[3261.04 - 3265.52] array so we&#39;d say
[3263.52 - 3267.28] items array and then use the index that
[3265.52 - 3270.56] we passed through just here
[3267.28 - 3272.48] and then status equals one
[3270.56 - 3273.84] and then we&#39;ll do exactly the opposite
[3272.48 - 3276.72] of what we did before
[3273.84 - 3277.52] so then we&#39;ve got our object um just
[3276.72 - 3280.64] here
[3277.52 - 3283.92] and then all we need to do is say save
[3280.64 - 3285.84] items and then pass in our object
[3283.92 - 3288.32] and i&#39;ll save that string for us but
[3285.84 - 3291.68] before we do that we need to update
[3288.32 - 3294.96] the uh display of this field
[3291.68 - 3297.68] so over here we want to add the
[3294.96 - 3300.56] the class of done for this item so what
[3297.68 - 3303.76] we do is we say document
[3300.56 - 3307.04] query selector then we can go
[3303.76 - 3310.80] to uh
[3307.04 - 3310.80] list just here so to do items
[3312.48 - 3316.48] and then what we want to do next is grab
[3314.48 - 3318.40] the li so the list element
[3316.48 - 3321.20] and then we&#39;re going to use the data
[3318.40 - 3324.64] that we set up here so the item index
[3321.20 - 3329.60] like that so we say data item index
[3324.64 - 3332.32] equals and then we want to pass in this
[3329.60 - 3335.68] variable so we&#39;ve got the index so make
[3332.32 - 3339.36] sure you add that in just like this
[3335.68 - 3341.20] so we can see we have these brackets
[3339.36 - 3342.96] then we have first double quotes and
[3341.20 - 3344.24] then single quotes and then the plus
[3342.96 - 3346.48] to make sure that the variable fits in
[3344.24 - 3347.52] there then we&#39;re just going to say class
[3346.48 - 3350.64] list
[3347.52 - 3352.16] add done
[3350.64 - 3354.32] so let&#39;s just test this now i think i&#39;ve
[3352.16 - 3358.16] put it in right
[3354.32 - 3360.88] and then go over to here click this box
[3358.16 - 3363.20] let&#39;s check errors here you kind of
[3360.88 - 3364.80] inline click events that&#39;s fine
[3363.20 - 3366.16] so all we need to do is just make sure
[3364.80 - 3368.08] that we have a separate listener which
[3366.16 - 3369.68] is probably better to do anyway actually
[3368.08 - 3372.16] so over here we have these on click
[3369.68 - 3373.12] events we&#39;re just going to change this
[3372.16 - 3375.92] to be
[3373.12 - 3376.48] a click event on these particular items
[3375.92 - 3377.92] so
[3376.48 - 3380.56] again after this we&#39;re going to loop
[3377.92 - 3382.08] through this separately so what we&#39;re
[3380.56 - 3385.92] going to do down here
[3382.08 - 3387.68] is say document query selector all
[3385.92 - 3389.20] and then we&#39;re going to say ulli so
[3387.68 - 3390.80] we&#39;re going to loop all of our list
[3389.20 - 3393.60] items
[3390.80 - 3393.60] so we&#39;ll call this
[3393.92 - 3402.00] items list like that
[3398.48 - 3404.72] and then we&#39;ll create a new for loop
[3402.00 - 3406.64] for these items and then on each one
[3404.72 - 3409.84] we&#39;re going to add this event listener
[3406.64 - 3412.08] so we&#39;ll say like this so we grab the
[3409.84 - 3415.60] index again for this item then we&#39;re
[3412.08 - 3415.60] just going to say add event listener
[3416.48 - 3420.32] we need to make sure though um first
[3418.88 - 3421.36] that we don&#39;t add it to this whole
[3420.32 - 3424.80] function
[3421.36 - 3427.84] we go and say query selector um
[3424.80 - 3428.80] span and then we&#39;ll probably set a class
[3427.84 - 3433.44] here
[3428.80 - 3438.08] so we&#39;ll say span
[3433.44 - 3441.12] class item complete like that
[3438.08 - 3447.12] so then we just say item complete
[3441.12 - 3449.28] and then we&#39;ll add our click event
[3447.12 - 3451.52] like that and then all we need to do
[3449.28 - 3453.20] here is because the index is the same we
[3451.52 - 3456.32] can then call that function
[3453.20 - 3459.52] so we&#39;ll just say item complete
[3456.32 - 3460.72] and then i like that and then we&#39;ll do
[3459.52 - 3463.84] exactly the same thing
[3460.72 - 3463.84] for the delete function
[3463.92 - 3467.84] so we&#39;ll change this to item delete
[3468.24 - 3471.76] and then up here we&#39;ll change this to a
[3472.84 - 3477.76] class
[3474.96 - 3478.88] so if we refresh this now um i think
[3477.76 - 3480.88] i&#39;ve put this in right
[3478.88 - 3482.08] so if we go on this one and tick okay so
[3480.88 - 3484.40] we need to make sure that
[3482.08 - 3486.00] where we have this eye this is looping
[3484.40 - 3486.64] so when that event listener has happened
[3486.00 - 3489.12] it&#39;s gone
[3486.64 - 3490.96] through to the end of that function so
[3489.12 - 3494.64] we need to make sure that we grab
[3490.96 - 3498.24] the list item from here so if we say
[3494.64 - 3499.84] um var index equals let&#39;s work out so
[3498.24 - 3501.04] we&#39;ve got the item here so it&#39;s parent
[3499.84 - 3504.80] will be this div
[3501.04 - 3507.48] i want the parent again so parent.parent
[3504.80 - 3509.44] and then we would say data set
[3507.48 - 3511.68] [Music]
[3509.44 - 3513.44] so let&#39;s start by just logging that to
[3511.68 - 3516.80] the console and see what we get
[3513.44 - 3519.36] so if we do console log
[3516.80 - 3520.72] index this button will ignore the error
[3519.36 - 3523.60] that we get
[3520.72 - 3524.40] and just before that so it&#39;s parent
[3523.60 - 3529.36] should be parent
[3524.40 - 3529.36] element on parent node
[3529.44 - 3532.72] so if we refresh this now
[3532.96 - 3535.92] and try this again
[3536.32 - 3541.68] so if we look in here we should see the
[3538.72 - 3544.08] data set so we&#39;ve got item index is zero
[3541.68 - 3545.52] so that was two before so that was where
[3544.08 - 3547.68] it loops through all of the
[3545.52 - 3549.20] array we&#39;re right at the end because the
[3547.68 - 3550.16] event listener is running after that&#39;s
[3549.20 - 3551.36] all happened
[3550.16 - 3555.36] so that&#39;s where we need to grab this
[3551.36 - 3557.68] item index so all we need to do
[3555.36 - 3559.12] is put this just here and then instead
[3557.68 - 3562.48] of putting i we&#39;re going to put
[3559.12 - 3564.96] index and that should then uh
[3562.48 - 3567.68] link this all up correctly so that we&#39;re
[3564.96 - 3567.68] not getting this
[3568.40 - 3572.32] so this status part isn&#39;t invalid so if
[3570.96 - 3576.88] we save this
[3572.32 - 3576.88] and reload and now if we tick this
[3579.28 - 3582.48] we can see that it&#39;s marking it as
[3581.36 - 3584.24] complete
[3582.48 - 3586.24] but if we just go into our application
[3584.24 - 3590.32] now and edit these
[3586.24 - 3594.16] as cells so we put zero just here
[3590.32 - 3597.28] and just here and fresh
[3594.16 - 3599.04] so if we go over here and tick we can
[3597.28 - 3601.04] see it&#39;s not updating right away but it
[3599.04 - 3603.52] is if we went away
[3601.04 - 3604.08] and then came back um we want this to
[3603.52 - 3606.40] happen
[3604.08 - 3608.32] there and then on the page so let&#39;s have
[3606.40 - 3609.68] a look at what could be causing this
[3608.32 - 3612.08] so if we tick this one we know it&#39;s
[3609.68 - 3615.60] happened and we know it worked
[3612.08 - 3619.04] okay so it&#39;s the add part just here
[3615.60 - 3619.04] so we could just say class name
[3620.32 - 3626.88] equals done that should do what we need
[3624.00 - 3628.40] so if we go ahead and undo where we
[3626.88 - 3630.96] updated these because it&#39;s updated
[3628.40 - 3632.80] into the local storage already so that
[3630.96 - 3635.92] is zero that is zero
[3632.80 - 3637.68] go over here and refresh come back
[3635.92 - 3639.76] there we go so it&#39;s marking these as
[3637.68 - 3640.72] complete and then all we need to do next
[3639.76 - 3643.28] for this part
[3640.72 - 3645.36] is just remove that item from the object
[3643.28 - 3646.64] so for our delete all we need to do here
[3645.36 - 3651.52] is a lot easier
[3646.64 - 3655.28] so for our index we&#39;ll just say items
[3651.52 - 3656.72] array splice now we pass in the index
[3655.28 - 3657.92] and then how many items from here do we
[3656.72 - 3661.52] want to remove
[3657.92 - 3664.24] is one so then all we should need to do
[3661.52 - 3665.52] is then uh where is it up here we have
[3664.24 - 3668.08] save items
[3665.52 - 3669.20] we pass in this same code um but then
[3668.08 - 3671.20] what we need to do first
[3669.20 - 3672.88] is where we were setting the class just
[3671.20 - 3674.96] here
[3672.88 - 3677.36] on this one we just need to remove it so
[3674.96 - 3679.76] we&#39;ll just say
[3677.36 - 3679.76] remove
[3680.40 - 3684.32] like that so if we test this over here
[3682.96 - 3688.16] again
[3684.32 - 3688.96] and delete help if we call the right
[3688.16 - 3693.20] function
[3688.96 - 3697.28] so item delete and then go over here
[3693.20 - 3699.28] open this delete
[3697.28 - 3700.80] open this okay so as you can see it&#39;s
[3699.28 - 3703.76] deleted the item
[3700.80 - 3705.92] um but the problem we had so if we just
[3703.76 - 3708.24] add this we need to call the function
[3705.92 - 3710.24] and that would remove it so if we go now
[3708.24 - 3712.72] we&#39;ve removed all of our items so this
[3710.24 - 3715.20] should be empty
[3712.72 - 3716.48] like that so if we go away come back we
[3715.20 - 3718.56] can see this is all removed
[3716.48 - 3719.92] so if we now click on our new item we
[3718.56 - 3721.92] want to now make it so we can set our
[3719.92 - 3724.24] new items in here
[3721.92 - 3724.96] so this won&#39;t take too long so just over
[3724.24 - 3726.64] here
[3724.96 - 3728.48] we&#39;re going to create an event listener
[3726.64 - 3730.56] for each of these so we can remove all
[3728.48 - 3733.68] of this code over here
[3730.56 - 3736.72] and then all we&#39;re going to do is create
[3733.68 - 3739.76] a event listener so let&#39;s do document
[3736.72 - 3744.32] query selector on create to do
[3739.76 - 3746.80] so this is our new item button like that
[3744.32 - 3747.84] then i say add event listener same as
[3746.80 - 3752.16] before
[3747.84 - 3752.16] click and now go to this function
[3752.72 - 3756.56] and then in here all we want to do is
[3755.20 - 3759.28] open
[3756.56 - 3760.32] or display this new item element here so
[3759.28 - 3763.20] we just say document
[3760.32 - 3763.20] query selector again
[3764.32 - 3773.04] new item style display
[3769.20 - 3775.60] is block so if we go back over here now
[3773.04 - 3777.52] open this we can see that it&#39;s appearing
[3775.60 - 3780.24] and then all we need to do is add
[3777.52 - 3780.72] a listener to the save button so we can
[3780.24 - 3782.48] grab
[3780.72 - 3784.56] whatever is in this text field as long
[3782.48 - 3786.56] as it&#39;s not empty and then save it into
[3784.56 - 3789.68] our list and then hide that
[3786.56 - 3792.08] input field again so all we need to do
[3789.68 - 3793.44] is copy this code rather than writing
[3792.08 - 3796.56] that out again
[3793.44 - 3801.52] and then we&#39;ll say new item
[3796.56 - 3803.04] here new item button
[3801.52 - 3806.08] so if we just check what&#39;s that button
[3803.04 - 3808.56] called yep it&#39;s just button
[3806.08 - 3809.60] so when that&#39;s clicked we want to grab
[3808.56 - 3814.40] the
[3809.60 - 3817.84] item let&#39;s just call it item name equals
[3814.40 - 3822.48] so it&#39;ll be this instead of button
[3817.84 - 3826.64] it&#39;s input and then if input
[3822.48 - 3829.68] or item name does not equal
[3826.64 - 3832.48] isn&#39;t empty then we will save it so to
[3829.68 - 3835.36] do that all we need to do
[3832.48 - 3838.32] is go down here and grab this so we&#39;ve
[3835.36 - 3841.84] got item storage that we&#39;re grabbing
[3838.32 - 3845.04] and then all we need to say is items
[3841.84 - 3846.64] array equal so we&#39;re going to add a new
[3845.04 - 3850.00] element onto this
[3846.64 - 3851.52] equals item
[3850.00 - 3853.12] and this is where we&#39;re passing our item
[3851.52 - 3856.32] name
[3853.12 - 3860.96] like that then status
[3856.32 - 3863.60] is zero or zero like this
[3860.96 - 3865.60] so we just need to put this in quotes
[3863.60 - 3868.32] and then as same as before
[3865.60 - 3869.84] we need to say save items and then pass
[3868.32 - 3871.92] in our items array
[3869.84 - 3873.60] and then once that&#39;s done we want to
[3871.92 - 3874.40] fetch our items again so that everything
[3873.60 - 3876.56] is renewed
[3874.40 - 3878.24] so let&#39;s just test that and then
[3876.56 - 3879.04] obviously we need to hide it if it
[3878.24 - 3883.12] worked
[3879.04 - 3885.44] so if we go over to here new item
[3883.12 - 3888.24] okay so one thing we probably should do
[3885.44 - 3888.24] is say push
[3888.72 - 3893.68] and put that in like this because we&#39;re
[3892.00 - 3894.72] pushing the object onto the end of our
[3893.68 - 3897.04] array
[3894.72 - 3898.64] so let&#39;s just refresh that it&#39;s a new
[3897.04 - 3902.72] item
[3898.64 - 3906.40] record my next video
[3902.72 - 3907.52] save almost okay right i didn&#39;t say
[3906.40 - 3910.88] value
[3907.52 - 3912.00] so the item value here we want item name
[3910.88 - 3913.76] to be a value
[3912.00 - 3915.20] and if it&#39;s not so if we save it that
[3913.76 - 3916.00] should work now we know that that&#39;s all
[3915.20 - 3919.60] there
[3916.00 - 3923.68] so if we go over to here new item record
[3919.60 - 3927.12] a video save there we have this
[3923.68 - 3928.48] we can tick these we can remove them
[3927.12 - 3930.48] and what we need to do is make sure that
[3928.48 - 3933.04] we click save let me hide this
[3930.48 - 3934.84] so it&#39;s just the opposite of this line
[3933.04 - 3937.20] so under here once everything is
[3934.84 - 3940.08] complete
[3937.20 - 3940.96] we say none so that will hide it so here
[3940.08 - 3944.40] we go
[3940.96 - 3945.36] we open our items so we&#39;ve got a item
[3944.40 - 3949.44] here
[3945.36 - 3952.80] so again record my next video
[3949.44 - 3954.56] save that&#39;s added so the next item
[3952.80 - 3956.24] we should probably make that uh remove
[3954.56 - 3960.48] that value as well
[3956.24 - 3963.68] could be um fix my laptop
[3960.48 - 3964.96] and add that here so go to new item so
[3963.68 - 3966.88] all we&#39;re going to do now is just make
[3964.96 - 3968.40] sure we remove this and that is this
[3966.88 - 3970.00] extension complete took a little bit
[3968.40 - 3974.88] longer than i thought for this one
[3970.00 - 3978.96] um so over here we&#39;ll grab this value
[3974.88 - 3981.60] and we&#39;ll just say value equals empty
[3978.96 - 3982.72] so if we go over to this again go to our
[3981.60 - 3986.40] item
[3982.72 - 3988.88] so item text here
[3986.40 - 3990.32] save and then here we go it&#39;s empty so
[3988.88 - 3992.32] that is how we can create a really
[3990.32 - 3995.60] really simple to-do list
[3992.32 - 3998.80] so you can mic mark items as complete
[3995.60 - 4002.08] and then remove them all from within
[3998.80 - 4003.12] a pop-out extension okay so next we&#39;re
[4002.08 - 4006.40] going to be building
[4003.12 - 4009.20] our web scraper and automation tool
[4006.40 - 4009.76] so it&#39;s a simple um extension that&#39;s
[4009.20 - 4013.44] going to be
[4009.76 - 4014.80] in a pop-out and this will let the user
[4013.44 - 4017.04] set a number of different actions that
[4014.80 - 4020.24] they want to perform on this page
[4017.04 - 4021.20] so for example you could say after three
[4020.24 - 4023.84] seconds
[4021.20 - 4025.36] press this button enter this text into
[4023.84 - 4028.72] this
[4025.36 - 4031.92] input field and then save this text from
[4028.72 - 4032.64] another from a div on the page for
[4031.92 - 4033.68] example
[4032.64 - 4036.40] you can create a number of different
[4033.68 - 4037.84] actions in a number of different um
[4036.40 - 4039.44] combinations so you can do different
[4037.84 - 4041.28] types of automation
[4039.44 - 4042.88] and grabbing and scraping data from the
[4041.28 - 4044.24] page as well so that&#39;s what we&#39;re going
[4042.88 - 4046.64] to be building next
[4044.24 - 4048.48] now because this extension is a little
[4046.64 - 4049.52] more uh complicated than the others i&#39;ve
[4048.48 - 4052.96] gone ahead
[4049.52 - 4054.00] and set up a folder for this one already
[4052.96 - 4056.32] so we have
[4054.00 - 4057.76] this web scrape folder just here in the
[4056.32 - 4060.48] manifest we have
[4057.76 - 4061.12] um the title here so simple scraper we
[4060.48 - 4063.84] have our
[4061.12 - 4065.20] browser action popout.html and we have a
[4063.84 - 4065.76] content script that we&#39;re going to run
[4065.20 - 4067.68] as well
[4065.76 - 4069.12] so the way this is going to work um i&#39;ve
[4067.68 - 4069.84] gone ahead and just planned this out a
[4069.12 - 4072.44] little bit
[4069.84 - 4073.92] in advance this time so in our
[4072.44 - 4077.04] popout.html
[4073.92 - 4078.08] we have just a simple heading here and
[4077.04 - 4079.44] then we&#39;re going to have a div
[4078.08 - 4082.48] underneath of our different types of
[4079.44 - 4083.92] commands now each command can be
[4082.48 - 4086.00] can be a number of types so it can
[4083.92 - 4088.40] either be a weight
[4086.00 - 4090.24] a click you&#39;re going to enter some type
[4088.40 - 4093.20] of value or text
[4090.24 - 4094.24] and then you can save text as well so
[4093.20 - 4095.84] that will be
[4094.24 - 4098.16] you can grab that all at the end once
[4095.84 - 4100.64] this command has completed
[4098.16 - 4102.56] and then once you&#39;ve entered all of the
[4100.64 - 4104.08] inputs in there
[4102.56 - 4105.84] there&#39;ll be a button down that can just
[4104.08 - 4107.08] start this command and start it running
[4105.84 - 4108.56] so that&#39;s what it looks like in our
[4107.08 - 4111.36] popout.html
[4108.56 - 4112.88] so the javascript for this will work in
[4111.36 - 4113.84] a number of different ways as well so if
[4112.88 - 4116.64] i pop out
[4113.84 - 4116.96] dot js here and that&#39;s going to generate
[4116.64 - 4119.52] an
[4116.96 - 4121.28] object based on all of that information
[4119.52 - 4123.28] we&#39;ve just set up just there
[4121.28 - 4125.36] and obviously you can add new items into
[4123.28 - 4126.88] this array
[4125.36 - 4129.12] and they&#39;ll each be an object so as you
[4126.88 - 4130.48] can see here we have this first one&#39;s
[4129.12 - 4131.92] type is weights
[4130.48 - 4133.28] and then we&#39;ve got a value so there&#39;s
[4131.92 - 4134.08] two value fields i don&#39;t know if i
[4133.28 - 4137.76] showed you there
[4134.08 - 4139.28] yes we&#39;ve got value one and value two
[4137.76 - 4141.68] so obviously if you want to have a type
[4139.28 - 4143.92] of weight you need to say how long
[4141.68 - 4144.88] that they should wait for and then for
[4143.92 - 4146.80] click
[4144.88 - 4148.64] the option there so you could say click
[4146.80 - 4150.24] and then value one it will be the actual
[4148.64 - 4152.80] query selector id
[4150.24 - 4155.36] of an element for example so that&#39;s all
[4152.80 - 4157.28] we&#39;ll be doing here so when they click
[4155.36 - 4160.16] start it will just run this function
[4157.28 - 4161.68] here that will grab the current tab so
[4160.16 - 4162.96] because the pop-up&#39;s open there we can
[4161.68 - 4164.72] grab the current tab
[4162.96 - 4166.80] and then send this message in to our
[4164.72 - 4169.36] content script they&#39;ll be listening
[4166.80 - 4170.56] for any events to be sent to us so again
[4169.36 - 4171.92] for this we&#39;re using the manifest
[4170.56 - 4174.40] version too
[4171.92 - 4175.92] so down here would then send a message
[4174.40 - 4178.48] to our active tab
[4175.92 - 4179.44] so as you can see here active tab and
[4178.48 - 4182.32] that will pass in
[4179.44 - 4183.68] this run commands message and then this
[4182.32 - 4185.12] data object that we&#39;re going to be
[4183.68 - 4186.72] generating
[4185.12 - 4188.64] from whatever we&#39;ve selected in our pop
[4186.72 - 4190.16] out extension
[4188.64 - 4191.76] now the content script is going to be
[4190.16 - 4193.92] listening for this command
[4191.76 - 4195.68] so here you see run commands then it
[4193.92 - 4197.44] will grab the scrape object which again
[4195.68 - 4200.96] will look something like this
[4197.44 - 4203.20] and then we&#39;ll have a loop that will run
[4200.96 - 4205.04] through of each of these objects and
[4203.20 - 4205.84] perform this action
[4205.04 - 4207.44] so that&#39;s what we&#39;re going to be
[4205.84 - 4209.04] building that&#39;s how it&#39;s going to look
[4207.44 - 4210.80] so let&#39;s get started
[4209.04 - 4213.20] on this now okay so the first thing we
[4210.80 - 4215.04] want to do is make sure that we have
[4213.20 - 4217.44] this object being generated so we&#39;re
[4215.04 - 4219.12] going to start by just commenting
[4217.44 - 4220.48] or removing out these comments so i&#39;ll
[4219.12 - 4223.52] just change this
[4220.48 - 4226.80] like that and this like that
[4223.52 - 4229.28] so we know um what we have just here
[4226.80 - 4231.12] is an example input field so let&#39;s just
[4229.28 - 4233.84] remove
[4231.12 - 4235.20] this bit so if we um save this now and
[4233.84 - 4237.04] open it on the page we can just see what
[4235.20 - 4239.28] we have so far
[4237.04 - 4240.40] so we&#39;ll just save that so if we click
[4239.28 - 4243.60] over here
[4240.40 - 4244.16] we can find a simple scraper here unpin
[4243.60 - 4246.08] this one
[4244.16 - 4247.44] okay so if we open it up you can see
[4246.08 - 4248.32] what this will look like so again it&#39;s
[4247.44 - 4250.64] very
[4248.32 - 4251.52] basic design so what we need to add so
[4250.64 - 4254.32] far
[4251.52 - 4255.52] is uh two buttons so one of these
[4254.32 - 4259.28] buttons will also add
[4255.52 - 4261.36] another element onto this uh
[4259.28 - 4263.04] display and then the next button will
[4261.36 - 4264.24] let us start running this command and it
[4263.04 - 4266.64] will send that event
[4264.24 - 4268.08] to our content script so let&#39;s go ahead
[4266.64 - 4269.44] now and add two buttons
[4268.08 - 4271.44] and then we&#39;ll start to link up all the
[4269.44 - 4274.00] javascript for this as well
[4271.44 - 4274.88] um called action buttons and then inside
[4274.00 - 4278.08] here we&#39;re just going to have
[4274.88 - 4280.64] button here and this will be to add a
[4278.08 - 4280.64] new item
[4280.80 - 4287.76] or a new command so we&#39;ll say add
[4284.84 - 4292.24] command and then down here
[4287.76 - 4292.24] underneath this one will just say run
[4292.32 - 4296.24] so that will start running all of the
[4293.84 - 4299.52] code
[4296.24 - 4300.64] now just be run command so if we just
[4299.52 - 4303.28] refresh that now
[4300.64 - 4304.24] over here we can see we have our two
[4303.28 - 4306.24] buttons
[4304.24 - 4308.32] and one thing i think would be important
[4306.24 - 4310.08] is um for this to just be
[4308.32 - 4312.48] displayed alongside each other as this
[4310.08 - 4314.48] could be quite long if we have
[4312.48 - 4316.24] lots of different events and then maybe
[4314.48 - 4318.24] add a maximum height here so it can
[4316.24 - 4320.64] scroll if there&#39;s loads more
[4318.24 - 4322.64] um so if we just go back over here add a
[4320.64 - 4325.52] little bit of styling
[4322.64 - 4326.84] again it&#39;s not to make it look look too
[4325.52 - 4328.72] nice it&#39;s just to make sure it&#39;s
[4326.84 - 4331.36] functional
[4328.72 - 4332.80] and again as with the other extensions
[4331.36 - 4334.40] the main thing we&#39;re trying to get here
[4332.80 - 4336.80] is speed so we can see how quickly we
[4334.40 - 4339.92] can prototype these ideas
[4336.80 - 4342.32] so again we&#39;re just setting some basic
[4339.92 - 4344.08] styles in here just to see what we have
[4342.32 - 4345.60] so that&#39;s a little bit more space
[4344.08 - 4348.00] and if we can get these all to appear on
[4345.60 - 4349.84] one line so we&#39;ll set a maximum
[4348.00 - 4351.92] width on these and then that should be
[4349.84 - 4354.48] everything we need
[4351.92 - 4354.96] so we make this slightly smaller and
[4354.48 - 4358.96] then
[4354.96 - 4363.76] our input will have a width
[4358.96 - 4363.76] of about 130 i think something like that
[4368.84 - 4371.92] almost
[4370.56 - 4375.52] let&#39;s just inspect this make sure we&#39;re
[4371.92 - 4378.88] getting exactly the right amount here
[4375.52 - 4379.36] okay so a hundred and that seems okay
[4378.88 - 4381.28] like that
[4379.36 - 4383.20] okay so there we go so let&#39;s change that
[4381.28 - 4386.96] down to a hundred
[4383.20 - 4389.76] and make that maybe 55.
[4386.96 - 4389.76] how does this look
[4390.24 - 4393.92] okay yeah that&#39;s okay and then we can
[4392.08 - 4394.40] just add a bit of margin around there um
[4393.92 - 4396.64] later
[4394.40 - 4398.32] later on um but if we copy this number
[4396.64 - 4400.48] of times just to
[4398.32 - 4401.44] simulate if we had lots of events here
[4400.48 - 4404.80] so i&#39;ll just copy this
[4401.44 - 4405.60] five times okay we can see that we can
[4404.80 - 4406.96] fit in
[4405.60 - 4408.80] a number of events here so you can
[4406.96 - 4412.96] imagine if we had say
[4408.80 - 4414.88] wait um one second
[4412.96 - 4416.08] and leave this empty and then we&#39;ll say
[4414.88 - 4419.68] click
[4416.08 - 4421.28] um so it&#39;d be body and then something of
[4419.68 - 4422.56] the class of button or just the first
[4421.28 - 4424.16] button on the page
[4422.56 - 4426.08] so it always grabbed the first element
[4424.16 - 4428.32] so we want to be specific with that
[4426.08 - 4429.36] and then we could enter a value so say
[4428.32 - 4430.96] we want to add
[4429.36 - 4432.80] something into the first input field on
[4430.96 - 4436.16] the page we could say
[4432.80 - 4437.92] uh this is a string and that would add
[4436.16 - 4438.48] that onto that page so if we were to say
[4437.92 - 4442.40] run
[4438.48 - 4444.24] and then start to run this code um
[4442.40 - 4445.76] yeah this seems to be okay this is what
[4444.24 - 4447.20] we&#39;re going to move forward with
[4445.76 - 4449.52] and then we need to make sure if we
[4447.20 - 4452.64] press this button here it&#39;s going to add
[4449.52 - 4454.08] another element that we can use here so
[4452.64 - 4455.68] this is what we need so far
[4454.08 - 4457.12] okay so now we&#39;re going to go into our
[4455.68 - 4460.00] popout.js
[4457.12 - 4461.28] and start to link up these buttons so
[4460.00 - 4464.24] let&#39;s take this
[4461.28 - 4466.84] add command just here and first we&#39;ll
[4464.24 - 4469.84] set a event listener to that
[4466.84 - 4469.84] button
[4469.92 - 4475.28] so we&#39;ll use query selector we&#39;ll find
[4472.48 - 4476.72] that button
[4475.28 - 4478.56] and then we&#39;ll just say add event
[4476.72 - 4479.84] listener and then in here we&#39;re just
[4478.56 - 4482.80] going to append
[4479.84 - 4484.56] a new element onto the end of that list
[4482.80 - 4488.00] that&#39;s a blank object
[4484.56 - 4491.04] so all we need to do is just copy this
[4488.00 - 4491.04] html just here
[4491.60 - 4498.16] and then we will say new
[4494.80 - 4500.24] item equals use backticks because we&#39;re
[4498.16 - 4501.92] using es6 we can have this over multiple
[4500.24 - 4505.12] lines
[4501.92 - 4511.44] like that and then we just need to say
[4505.12 - 4513.60] commands list
[4511.44 - 4514.72] so we&#39;ll do query selector again pass in
[4513.60 - 4518.16] this
[4514.72 - 4525.12] and then we&#39;ll just say in html
[4518.16 - 4526.88] plus equals new item
[4525.12 - 4528.96] so what this would do if we had because
[4526.88 - 4530.64] we&#39;re um setting the inner html rather
[4528.96 - 4533.12] than appending a new
[4530.64 - 4533.76] um div element that we&#39;ve created if we
[4533.12 - 4536.96] have any
[4533.76 - 4538.72] event listeners where we are if we have
[4536.96 - 4539.76] any event listeners on these actual
[4538.72 - 4541.12] elements here
[4539.76 - 4543.60] they will be removed because we&#39;re
[4541.12 - 4544.88] actually replacing the inner html
[4543.60 - 4546.64] but for this example we&#39;re not going to
[4544.88 - 4547.76] have any listeners on this part we will
[4546.64 - 4548.88] on these buttons
[4547.76 - 4550.32] but that&#39;s not going to be replacing the
[4548.88 - 4551.28] buttons because they&#39;re outside of that
[4550.32 - 4552.88] scope
[4551.28 - 4555.60] so if we refresh this now and try and
[4552.88 - 4557.12] press this button
[4555.60 - 4558.64] we can see it adds new commands here
[4557.12 - 4561.68] which is exactly what we want
[4558.64 - 4563.60] so the next step is just to add a
[4561.68 - 4565.60] listener for this run button and then
[4563.60 - 4566.32] create a function that can convert this
[4565.60 - 4568.56] list
[4566.32 - 4571.12] of input fields into the object that we
[4568.56 - 4571.12] want to create
[4571.76 - 4576.88] so all we need to do is just copy this
[4574.08 - 4576.88] event up here
[4577.60 - 4582.08] change the uh thing here from new
[4580.56 - 4583.76] command to run command
[4582.08 - 4585.12] and then all we&#39;re going to do is just
[4583.76 - 4586.00] call a function so this can be more
[4585.12 - 4588.16] repeatable
[4586.00 - 4589.28] if we wanted to add this in from another
[4588.16 - 4589.76] part of the code so we&#39;ll create a
[4589.28 - 4595.44] function
[4589.76 - 4597.68] up here
[4595.44 - 4598.48] called create command object and then
[4597.68 - 4601.20] all we would do
[4598.48 - 4602.24] is just make sure that we call this from
[4601.20 - 4603.60] here
[4602.24 - 4605.20] and then all this is going to do we&#39;re
[4603.60 - 4605.52] going to say document so it actually
[4605.20 - 4609.84] would
[4605.52 - 4609.84] say up here command
[4609.92 - 4614.24] commands and this would be query
[4612.00 - 4616.32] selector all for each of the divs inside
[4614.24 - 4616.82] of that
[4616.32 - 4619.92] list
[4616.82 - 4619.92] [Music]
[4620.00 - 4626.96] so that&#39;d be crew selector all then all
[4622.40 - 4626.96] we need to say over here is command list
[4627.12 - 4630.88] and then command item so we grab all of
[4629.52 - 4633.84] the items
[4630.88 - 4633.84] that are inside there
[4635.28 - 4638.56] like that and so now we&#39;ve got an array
[4637.28 - 4641.12] that we can loop through
[4638.56 - 4643.04] so if we just add a for loop just here
[4641.12 - 4645.04] of our commands
[4643.04 - 4646.48] atoms helpful in filling that out for us
[4645.04 - 4649.28] just to save time
[4646.48 - 4651.04] um so what we can do in here is start to
[4649.28 - 4651.84] create our object so what we&#39;re going to
[4651.04 - 4654.88] do
[4651.84 - 4657.52] up here is set an empty array
[4654.88 - 4657.52] so we&#39;ll say
[4659.20 - 4664.80] say a variable again of commands
[4662.96 - 4667.84] array this will just be an empty array
[4664.80 - 4671.44] like this and then down here
[4667.84 - 4671.44] we&#39;re going to say item
[4671.76 - 4675.84] object and that&#39;ll just be an empty
[4674.64 - 4677.20] object like this
[4675.84 - 4679.52] and then all we need to do is just push
[4677.20 - 4681.68] these onto the end of the object
[4679.52 - 4682.64] so if we find the example we wanted to
[4681.68 - 4684.40] create here
[4682.64 - 4686.00] like this we can see we&#39;re just going to
[4684.40 - 4689.60] add a type and then
[4686.00 - 4689.60] one and two at the end here
[4689.84 - 4694.16] so as simple as it is we just say item
[4692.72 - 4697.36] object
[4694.16 - 4700.40] type and then we can grab the uh
[4697.36 - 4701.76] select value inside of here so because
[4700.40 - 4703.76] we know which
[4701.76 - 4707.44] item we&#39;re on here so we&#39;ve got commands
[4703.76 - 4711.04] i we can say
[4707.44 - 4714.08] item object type is equal to
[4711.04 - 4717.12] commands and then the index here
[4714.08 - 4720.40] we can run the query selector again
[4717.12 - 4721.84] so this is on this element just here
[4720.40 - 4723.92] of each of the elements and we want to
[4721.84 - 4725.92] grab the value
[4723.92 - 4726.96] of the select field that&#39;s currently
[4725.92 - 4728.40] selected
[4726.96 - 4730.88] so we need to do here is say query
[4728.40 - 4732.64] selector select
[4730.88 - 4734.24] value so that&#39;ll be the type and then
[4732.64 - 4738.40] we&#39;re going to do the same thing again
[4734.24 - 4740.32] for value one and value two
[4738.40 - 4741.68] so that would just be let&#39;s just double
[4740.32 - 4742.88] check yeah so it&#39;s called one and it&#39;s
[4741.68 - 4746.24] called two
[4742.88 - 4747.92] says one and two and then we just
[4746.24 - 4749.68] just need to change this select part
[4747.92 - 4751.60] here with value
[4749.68 - 4752.88] one which links up with this class name
[4751.60 - 4756.80] down here
[4752.88 - 4756.80] and then the same again for value two
[4758.48 - 4761.52] so that will generate our object now we
[4760.24 - 4762.16] just make sure we need to make sure that
[4761.52 - 4764.08] we
[4762.16 - 4765.44] add it onto this array so to do that
[4764.08 - 4768.72] we&#39;ll just say
[4765.44 - 4771.60] commands array push
[4768.72 - 4773.52] and then add our item object so that
[4771.60 - 4774.80] should be everything we need so far
[4773.52 - 4776.40] we&#39;re just going to run through and test
[4774.80 - 4777.12] this first so what we&#39;ll do is at the
[4776.40 - 4779.44] end of this
[4777.12 - 4781.84] loop so once that loop&#39;s finished we&#39;ll
[4779.44 - 4785.60] just say console.log
[4781.84 - 4788.48] and pass in our commands array like that
[4785.60 - 4790.16] so if we go up here and refresh add a
[4788.48 - 4791.44] couple of commands over here so we&#39;ve
[4790.16 - 4794.24] got weight
[4791.44 - 4795.84] let&#39;s say one second again it says a
[4794.24 - 4798.24] thousand milliseconds
[4795.84 - 4800.24] and i want to click the first button on
[4798.24 - 4803.52] the page and this one will just
[4800.24 - 4805.12] enter a value onto a element that&#39;s got
[4803.52 - 4808.16] a class of input
[4805.12 - 4810.88] and we&#39;ll just say uh text
[4808.16 - 4812.32] so if we say run and then inspect this
[4810.88 - 4814.08] and check the console
[4812.32 - 4815.60] if this has worked yet we have an array
[4814.08 - 4817.04] here of object
[4815.60 - 4819.20] so that is perfect that&#39;s doing the
[4817.04 - 4819.92] first part that we need now we can push
[4819.20 - 4823.04] this through
[4819.92 - 4824.40] to our page and start running this code
[4823.04 - 4826.88] okay so all we need to do to push this
[4824.40 - 4828.56] through to our page is just adjust this
[4826.88 - 4830.16] code we had down here
[4828.56 - 4832.56] so we can remove our example object
[4830.16 - 4834.08] because we&#39;re building this ourself now
[4832.56 - 4835.76] and then we just need to move this
[4834.08 - 4837.12] across at the into the end of that
[4835.76 - 4840.64] function there
[4837.12 - 4842.40] so we&#39;ll just copy this and add it down
[4840.64 - 4844.08] here
[4842.40 - 4846.64] and then because we have our commands
[4844.08 - 4847.52] array here we have our objects we can
[4846.64 - 4850.56] just say
[4847.52 - 4853.12] object equals commands array and that
[4850.56 - 4855.68] should then pass this through
[4853.12 - 4857.36] so we just remove this so what this
[4855.68 - 4859.04] piece of code does is it grabs the
[4857.36 - 4861.76] current selected tab
[4859.04 - 4863.52] and we&#39;ll push a event through to that
[4861.76 - 4868.72] tab
[4863.52 - 4870.56] so we can just move these lines
[4868.72 - 4872.48] save that and if we go to our content
[4870.56 - 4874.72] script now and just
[4872.48 - 4875.92] when we&#39;re listening for this event
[4874.72 - 4878.48] we&#39;re just going to do exactly what we
[4875.92 - 4878.48] did before
[4879.12 - 4883.52] and add a console log for this scrape
[4882.48 - 4885.84] object just to make sure that it&#39;s
[4883.52 - 4887.44] getting through to our content script
[4885.84 - 4890.64] click onto our extensions we&#39;re going to
[4887.44 - 4890.64] wait one second again
[4890.80 - 4893.92] and then what we&#39;re going to do is add
[4892.08 - 4896.40] another command
[4893.92 - 4897.92] to so as you can see actually what this
[4896.40 - 4899.92] is doing is it&#39;s adding that onto there
[4897.92 - 4902.56] so that removed
[4899.92 - 4904.16] amount of seconds so here we can find
[4902.56 - 4905.28] out what part of the code we want to
[4904.16 - 4908.48] adjust
[4905.28 - 4910.00] so if we would click this page here
[4908.48 - 4911.84] [Music]
[4910.00 - 4914.32] we can find what query sector would
[4911.84 - 4917.36] actually need to click on to
[4914.32 - 4919.92] but what we&#39;re going to do first is test
[4917.36 - 4922.16] out grabbing the content from the page
[4919.92 - 4923.76] so if we look to try and grab this title
[4922.16 - 4925.44] here
[4923.76 - 4926.96] that would be this element so if we
[4925.44 - 4929.20] press this button over here
[4926.96 - 4930.16] we can grab that so if we go over to
[4929.20 - 4933.60] this
[4930.16 - 4937.28] uh extension again we would say wait
[4933.60 - 4939.12] one second add a command
[4937.28 - 4940.56] actually it&#39;s done again so we would
[4939.12 - 4943.20] wait
[4940.56 - 4944.08] one second then we want to save whatever
[4943.20 - 4947.12] content is in
[4944.08 - 4948.24] this query selector just here
[4947.12 - 4950.96] so this is what we&#39;re going to do in the
[4948.24 - 4951.28] next part of this extension but if we
[4950.96 - 4954.40] press
[4951.28 - 4958.24] run now and just go to our console
[4954.40 - 4963.28] ah keeps disappearing but if we wait
[4958.24 - 4963.28] again one second add our command
[4963.76 - 4969.52] so one second add our command then run
[4967.36 - 4973.84] so we need to add into our permissions
[4969.52 - 4973.84] access to this active tab
[4974.11 - 4978.24] [Music]
[4975.92 - 4979.92] like this so if we try it again now
[4978.24 - 4983.52] that&#39;s
[4979.92 - 4987.20] like that refresh our extension
[4983.52 - 4989.28] refresh the page so we go over here just
[4987.20 - 4991.92] wait one second
[4989.28 - 4994.24] run our command so let&#39;s change this
[4991.92 - 4997.28] from active tab to all urls
[4994.24 - 4999.36] but so now that we have our manifest
[4997.28 - 5000.64] has access to all urls and a permission
[4999.36 - 5003.76] here and
[5000.64 - 5005.52] a content script over here should
[5003.76 - 5007.84] have access to the page so if we go
[5005.52 - 5009.68] ahead now and try and run this so if we
[5007.84 - 5011.92] go over to our website
[5009.68 - 5014.48] if we go over to this website again
[5011.92 - 5016.16] press on to our extension and set our
[5014.48 - 5017.68] commands now obviously we have this
[5016.16 - 5019.60] problem at the minute
[5017.68 - 5021.12] um where if we enter this then press add
[5019.60 - 5023.12] a command because we&#39;re updating
[5021.12 - 5024.96] the whole of the inner html each time
[5023.12 - 5026.56] it&#39;s going to remove this
[5024.96 - 5028.64] from the page but we can adjust that
[5026.56 - 5029.12] later i&#39;m just by appending it rather
[5028.64 - 5031.44] than
[5029.12 - 5033.12] adjusting the ring ht inner html okay so
[5031.44 - 5035.60] the reason this isn&#39;t coming through yet
[5033.12 - 5037.76] it&#39;s because we have message name which
[5035.60 - 5040.40] i put in wrong it should be message
[5037.76 - 5042.48] command so if remove this extra console
[5040.40 - 5045.68] log that we had and
[5042.48 - 5048.80] run this code again so we go over here
[5045.68 - 5051.92] refresh our page refresh our extension
[5048.80 - 5054.16] over here open up add a command so we&#39;re
[5051.92 - 5058.88] going to wait one second
[5054.16 - 5060.80] and enter value onto the first h1
[5058.88 - 5062.88] um actually save the value of the first
[5060.80 - 5064.16] h1 and then run this command
[5062.88 - 5067.12] we can see this is getting pushed
[5064.16 - 5067.92] through and then here is the data just
[5067.12 - 5070.24] here
[5067.92 - 5072.00] now what we need to do next is take this
[5070.24 - 5073.20] object and actually make sure we perform
[5072.00 - 5075.36] these actions
[5073.20 - 5077.12] on the page so we&#39;re going to go over
[5075.36 - 5078.48] here now and create a function that can
[5077.12 - 5079.84] actually do this
[5078.48 - 5082.32] so now that we know that we&#39;re getting
[5079.84 - 5085.04] this data through to this page
[5082.32 - 5086.40] we&#39;re going to go down here and create a
[5085.04 - 5088.08] function for each of these different
[5086.40 - 5091.36] types of events
[5088.08 - 5091.76] so the first type that we&#39;re going to
[5091.36 - 5094.16] have
[5091.76 - 5095.52] is a weight and then this will then call
[5094.16 - 5097.12] the function to run the next one so we
[5095.52 - 5099.12] need to think this through carefully
[5097.12 - 5102.08] and to make sure that we&#39;re doing this
[5099.12 - 5102.08] in a way that&#39;s going to work
[5102.56 - 5107.36] so if we click events we&#39;ll say click
[5104.96 - 5110.48] event
[5107.36 - 5110.48] then we&#39;ll just have the input
[5110.72 - 5114.56] or let&#39;s just say selector and then we
[5113.28 - 5116.40] can do the same thing for
[5114.56 - 5118.24] save event and that would just be the
[5116.40 - 5120.40] selector we want to save
[5118.24 - 5122.00] and then the same thing again for our
[5120.40 - 5124.08] enter event
[5122.00 - 5126.00] and then what we&#39;re going to do is pass
[5124.08 - 5128.80] in the index that we&#39;ve got through so
[5126.00 - 5130.32] far and the whole object itself so all
[5128.80 - 5133.60] we need to do is pass
[5130.32 - 5135.68] the object and the index
[5133.60 - 5137.36] so the next time that we are moving
[5135.68 - 5138.56] through the object we can just add one
[5137.36 - 5142.16] to this
[5138.56 - 5145.28] so what we&#39;ll do is just say um
[5142.16 - 5146.88] the end item so the end of the index
[5145.28 - 5149.12] so if this matches it we know not to
[5146.88 - 5151.28] continue anymore
[5149.12 - 5152.72] so we just add these for each of these
[5151.28 - 5154.96] like that
[5152.72 - 5155.92] um we might change this as we move
[5154.96 - 5157.20] forward but this is what we&#39;re going to
[5155.92 - 5159.84] use just now
[5157.20 - 5160.88] so over here um actually i thought of a
[5159.84 - 5163.76] better way of doing this
[5160.88 - 5164.40] already we&#39;re going to say function get
[5163.76 - 5166.48] next
[5164.40 - 5168.40] item and that&#39;s what we&#39;re going to call
[5166.48 - 5170.80] at the end of each
[5168.40 - 5172.48] part of this event and then this here
[5170.80 - 5173.44] will then work out what function we need
[5172.48 - 5176.08] to call
[5173.44 - 5177.20] so all this needs is the selector and if
[5176.08 - 5179.68] it&#39;s a save event
[5177.20 - 5180.80] it will need the the input whatever it&#39;s
[5179.68 - 5182.56] going to be there
[5180.80 - 5185.28] so we&#39;ll create this now hopefully that
[5182.56 - 5187.60] makes sense um so forget next item
[5185.28 - 5189.04] that will need to take in the object and
[5187.60 - 5190.96] the index
[5189.04 - 5192.16] um so the previous index will add one to
[5190.96 - 5194.00] it each time
[5192.16 - 5196.24] so when we&#39;re running our commands all
[5194.00 - 5199.28] we need to do here
[5196.24 - 5200.32] is say get next item and then pass in
[5199.28 - 5202.64] the object
[5200.32 - 5204.72] just here and an index of zero so we can
[5202.64 - 5207.84] start at zero each time
[5204.72 - 5209.36] yep that sounds good so over here this
[5207.84 - 5212.32] is all we need to have
[5209.36 - 5214.40] so it&#39;s going to grab our data and then
[5212.32 - 5215.12] pass our scrape object into get next
[5214.40 - 5217.12] item
[5215.12 - 5218.80] so in here all we need to do is check
[5217.12 - 5221.84] that there&#39;s a valid item
[5218.80 - 5223.60] at this index so we&#39;ll say if
[5221.84 - 5225.92] object and then the actual index we&#39;ve
[5223.60 - 5227.68] been sent here is not undefined so
[5225.92 - 5230.00] strong assist exists
[5227.68 - 5231.28] then we can go ahead and run this code
[5230.00 - 5236.40] if we know that it
[5231.28 - 5239.92] doesn&#39;t exist we&#39;ve completed all of the
[5236.40 - 5243.60] results and then we can start to uh send
[5239.92 - 5244.16] um a return with any data or just so
[5243.60 - 5246.48] that the
[5244.16 - 5248.40] the command is completed so we&#39;ll leave
[5246.48 - 5249.52] that here for now and all we need to do
[5248.40 - 5251.20] in here
[5249.52 - 5252.88] is just check which function that we
[5251.20 - 5257.20] need to call so
[5252.88 - 5260.56] would say if object
[5257.20 - 5263.04] index type equals click
[5260.56 - 5264.96] then we can call the click event so that
[5263.04 - 5267.84] means we don&#39;t need any of this
[5264.96 - 5267.84] over here
[5268.40 - 5272.96] we just need to pass in the object and
[5271.12 - 5275.76] the index but we don&#39;t need
[5272.96 - 5276.72] end item anymore so look a little bit
[5275.76 - 5280.40] like this
[5276.72 - 5283.44] so if it&#39;s click
[5280.40 - 5284.72] we would just need to pass in um
[5283.44 - 5287.44] actually it keeps it a lot more simple
[5284.72 - 5288.88] so it&#39;s just the object and the index
[5287.44 - 5291.20] that&#39;d be this current index and at the
[5288.88 - 5296.64] end of this function we would just say
[5291.20 - 5299.68] get next item like this
[5296.64 - 5302.00] and we&#39;ll just do index
[5299.68 - 5303.52] plus one so that keeps it nice and
[5302.00 - 5305.68] simple because we have that check
[5303.52 - 5308.08] every time so what we need to do first
[5305.68 - 5309.68] here is have our click event
[5308.08 - 5312.56] and we also need to add another function
[5309.68 - 5314.80] over here as a weight event
[5312.56 - 5316.64] if we need to wait um x amount of
[5314.80 - 5318.24] seconds for example
[5316.64 - 5319.84] so again we can remove this selector
[5318.24 - 5321.92] part
[5319.84 - 5323.60] we only need the object and the index so
[5321.92 - 5324.80] let&#39;s just focus on this weight event
[5323.60 - 5326.40] first
[5324.80 - 5328.08] so up here we know that we&#39;ve got our
[5326.40 - 5330.56] object and our index
[5328.08 - 5331.52] so what we&#39;re going to do is grab our
[5330.56 - 5335.60] items we&#39;ll just call
[5331.52 - 5337.76] item equals object
[5335.60 - 5338.88] and index that&#39;ll be the actual object
[5337.76 - 5340.24] within this array so i don&#39;t know what
[5338.88 - 5342.40] i&#39;m calling it object
[5340.24 - 5345.52] um but that&#39;ll grab the one that we need
[5342.40 - 5347.52] here and then we can just literally say
[5345.52 - 5348.72] um with for this we already know that
[5347.52 - 5351.28] it&#39;s a weight event
[5348.72 - 5352.80] so we&#39;d set a timeout here so because we
[5351.28 - 5354.40] know this is a weight event we can set a
[5352.80 - 5356.40] timeout straight away
[5354.40 - 5358.88] so we&#39;d have a set timeout a function
[5356.40 - 5361.60] just here we can run our code
[5358.88 - 5362.96] and then all this needs to do is enter
[5361.60 - 5364.80] the amount of seconds that we need to
[5362.96 - 5365.60] wait so we&#39;ve just closed that function
[5364.80 - 5367.84] just there
[5365.60 - 5369.36] add a comma and then this is where we
[5367.84 - 5371.68] would put our
[5369.36 - 5373.04] value but we&#39;d need to make sure as well
[5371.68 - 5375.44] that we changed this
[5373.04 - 5377.20] into a number rather than it being a
[5375.44 - 5379.44] string that it is at the moment
[5377.20 - 5381.44] now the item.1 and then we can just
[5379.44 - 5384.64] close that all off like this
[5381.44 - 5387.12] so once that&#39;s finished we&#39;ve moved this
[5384.64 - 5388.80] inside here so once that&#39;s finished it
[5387.12 - 5389.52] will then run the next part and grab the
[5388.80 - 5392.32] next
[5389.52 - 5393.36] continue on the different commands but
[5392.32 - 5394.40] first we need to make sure that we
[5393.36 - 5397.36] change this
[5394.40 - 5397.36] uh into a number
[5400.24 - 5404.00] so to do that we have a variable just
[5402.16 - 5407.84] here then let&#39;s just say
[5404.00 - 5410.48] pass int like that and then it will be
[5407.84 - 5411.28] what we need just here so next for our
[5410.48 - 5413.04] click event
[5411.28 - 5416.08] we&#39;ll follow a very similar pattern so
[5413.04 - 5419.60] we&#39;re going to use our item just here
[5416.08 - 5420.80] like that and then all we would do for
[5419.60 - 5423.12] this one
[5420.80 - 5425.12] is for this part the query selector is
[5423.12 - 5428.32] item one
[5425.12 - 5428.32] so we just say document
[5428.56 - 5431.44] query selector
[5432.48 - 5436.16] and then in here we&#39;ll pass in our item
[5434.72 - 5440.00] one
[5436.16 - 5442.24] like that and then we&#39;ll just say click
[5440.00 - 5443.76] and then we&#39;d run our next item straight
[5442.24 - 5444.64] away so that&#39;s all we need to do for
[5443.76 - 5447.12] this one
[5444.64 - 5450.08] for our save event it&#39;s a little bit
[5447.12 - 5452.24] different so just copy this code here
[5450.08 - 5453.20] in the save event we want to grab any
[5452.24 - 5456.32] value
[5453.20 - 5457.60] that is at this uh selector so instead
[5456.32 - 5460.32] of saying click
[5457.60 - 5460.32] we&#39;ll just say
[5460.80 - 5466.32] in a text or inner html for this option
[5464.16 - 5468.96] we&#39;ll probably just grab the value
[5466.32 - 5469.92] um one thing we probably want to adapt
[5468.96 - 5471.92] if you&#39;re
[5469.92 - 5473.20] wanting to launch this is check the
[5471.92 - 5474.72] actual type
[5473.20 - 5476.64] that we&#39;re grabbing here so if it&#39;s
[5474.72 - 5478.56] input field you want to change this to
[5476.64 - 5479.84] value rather than in a text
[5478.56 - 5481.20] but for this example we want to move
[5479.84 - 5482.40] through quickly so we&#39;ll just use this
[5481.20 - 5486.24] for now
[5482.40 - 5488.40] and so here we&#39;ll say value
[5486.24 - 5489.68] is this and then what we&#39;ll add
[5488.40 - 5492.80] somewhere actually
[5489.68 - 5495.92] is an array of objects that we&#39;re saving
[5492.80 - 5499.04] so up here before we start running this
[5495.92 - 5502.84] we&#39;ll just say window
[5499.04 - 5505.60] scrape scraper
[5502.84 - 5508.08] extension and then just send empty array
[5505.60 - 5508.08] just here
[5508.24 - 5511.28] and then we can just push these values
[5509.76 - 5514.32] onto the end of this
[5511.28 - 5517.68] so down here we have our save event
[5514.32 - 5520.08] we&#39;ll just say scraper extension push
[5517.68 - 5521.60] and then add our value just here so
[5520.08 - 5524.88] that&#39;s all we need to do there
[5521.60 - 5526.80] and then again we&#39;ll go to our next item
[5524.88 - 5530.40] and then for our enter event it&#39;s a very
[5526.80 - 5534.88] similar method that we&#39;ll follow here
[5530.40 - 5538.16] so instead of um setting the value here
[5534.88 - 5541.76] we&#39;ll just change this to value equals
[5538.16 - 5543.84] item two then we can get rid of our
[5541.76 - 5544.80] save just here so that obviously would
[5543.84 - 5546.80] be useful for
[5544.80 - 5548.08] input fields and things like that so if
[5546.80 - 5549.04] we just go through and check what we
[5548.08 - 5551.60] have here
[5549.04 - 5553.44] it looks to be what we need so we have
[5551.60 - 5555.92] our weight event our click event
[5553.44 - 5558.00] our save event and our enter event so up
[5555.92 - 5559.92] here we just need to add the extra types
[5558.00 - 5561.20] and call the right function each time
[5559.92 - 5562.64] and enter
[5561.20 - 5564.88] so and then down here we know that it&#39;s
[5562.64 - 5565.12] all completed but for now we&#39;ll just set
[5564.88 - 5569.68] an
[5565.12 - 5569.68] alert so let&#39;s say command
[5570.88 - 5576.88] have been run and then
[5574.00 - 5577.20] all we need to do is send a request back
[5576.88 - 5580.24] to
[5577.20 - 5583.36] our pop-up extension with the
[5580.24 - 5585.04] any data that was saved here so all we
[5583.36 - 5587.60] need to do for that
[5585.04 - 5589.44] is go up here actually we&#39;ll do it
[5587.60 - 5593.28] straight from here actually we&#39;ll say
[5589.44 - 5598.16] chrome runtime
[5593.28 - 5602.00] send message we&#39;ll say command
[5598.16 - 5605.92] run complete
[5602.00 - 5608.40] and then data will be this window object
[5605.92 - 5609.84] just here
[5608.40 - 5612.48] we can pass that straight back we don&#39;t
[5609.84 - 5613.76] need to wait for um
[5612.48 - 5617.44] a callback here because we know that
[5613.76 - 5619.52] that&#39;s complete and then in our
[5617.44 - 5620.48] popout.js we can just add a listener for
[5619.52 - 5623.36] this event
[5620.48 - 5625.44] it&#39;s up here we&#39;ll just say chrome
[5623.36 - 5628.72] runtime
[5625.44 - 5634.48] onmessage and listener
[5628.72 - 5634.48] or message sender and response
[5636.32 - 5639.36] and then we&#39;ll just have a function in
[5637.52 - 5641.52] here that will call this code
[5639.36 - 5642.72] so we call this function just here and
[5641.52 - 5645.84] then all we need to do
[5642.72 - 5645.84] is if
[5645.92 - 5648.40] message
[5649.04 - 5654.00] dot command if i put that in right
[5655.04 - 5659.20] equals run complete we then want to run
[5657.84 - 5661.84] this code just here
[5659.20 - 5662.80] so over here in our popup.html we&#39;re
[5661.84 - 5665.52] going to add a
[5662.80 - 5668.48] text area at the bottom here that by
[5665.52 - 5668.48] default will be hidden
[5671.28 - 5673.84] like that
[5674.40 - 5678.08] but when we get this callback just here
[5676.56 - 5680.00] we&#39;re going to fill in this information
[5678.08 - 5682.72] of any response that we get back
[5680.00 - 5686.08] so we&#39;ll just say text area so over here
[5682.72 - 5689.20] we&#39;ll do document
[5686.08 - 5693.28] selector grab this text area
[5689.20 - 5694.64] then set the value to b
[5693.28 - 5696.48] what was it we passed it on so we call
[5694.64 - 5700.08] it data so just be
[5696.48 - 5701.68] message data but first we&#39;re going to
[5700.08 - 5703.28] turn that into adjacent objects we&#39;ll
[5701.68 - 5707.36] just say json
[5703.28 - 5708.96] stringify and pass that in just there
[5707.36 - 5711.84] so there&#39;s quite a few changes but let&#39;s
[5708.96 - 5713.76] just check now if this actually worked
[5711.84 - 5714.88] so we have our event listener here
[5713.76 - 5716.96] that&#39;s listening before we send a
[5714.88 - 5719.52] response back from our content script
[5716.96 - 5720.72] we wrote all of these events just here
[5719.52 - 5723.52] so again
[5720.72 - 5725.12] um that that should work and then
[5723.52 - 5726.72] that&#39;s called over here
[5725.12 - 5728.32] so let&#39;s give this a go let&#39;s make sure
[5726.72 - 5730.32] actually we set this
[5728.32 - 5731.52] before we start running these events we
[5730.32 - 5734.24] need to make sure that we refresh our
[5731.52 - 5737.52] extension over here
[5734.24 - 5740.84] and then we refresh our page
[5737.52 - 5743.04] so what we&#39;re going to do is set two
[5740.84 - 5744.48] commands
[5743.04 - 5748.16] let&#39;s make sure we move that comma just
[5744.48 - 5749.52] there so we will refresh our extension
[5748.16 - 5752.72] so we&#39;re gonna add a command so first
[5749.52 - 5755.20] we&#39;ll wait um say 500 milliseconds
[5752.72 - 5756.16] um we want to save the value so we want
[5755.20 - 5759.76] to get
[5756.16 - 5762.88] the first h1 if there is one and then
[5759.76 - 5766.08] we want to click on the first
[5762.88 - 5769.20] link or we could say wait
[5766.08 - 5770.32] um 100 milliseconds
[5769.20 - 5772.32] and then just run that let&#39;s just try
[5770.32 - 5774.88] this for now so let&#39;s run this function
[5772.32 - 5776.24] it says commands have been run if we say
[5774.88 - 5779.04] okay
[5776.24 - 5780.00] we see this is closed um was there an
[5779.04 - 5784.32] error
[5780.00 - 5787.04] nope so we should probably do as well
[5784.32 - 5789.44] um is have that alert run on our pop-up
[5787.04 - 5792.96] extension rather than the content script
[5789.44 - 5792.96] so we&#39;ll just take this here
[5793.04 - 5797.28] remove that and have that appear over
[5796.24 - 5800.08] here
[5797.28 - 5801.44] and be sure to update the display of our
[5800.08 - 5804.80] text area as well
[5801.44 - 5807.28] so say style display
[5804.80 - 5807.28] is block
[5808.24 - 5813.12] like that so if we just first grab this
[5811.68 - 5814.16] element just here
[5813.12 - 5817.28] this will be the one that we want to
[5814.16 - 5820.32] grab so we&#39;ll do that
[5817.28 - 5826.24] go back to our console instead
[5820.32 - 5829.52] refresh our extension actually
[5826.24 - 5832.48] and then we&#39;ll go in here
[5829.52 - 5833.76] add a command so it&#39;s going to wait 500
[5832.48 - 5838.16] milliseconds again
[5833.76 - 5841.36] they want to save the value of that
[5838.16 - 5843.12] first link and then we&#39;ll press run all
[5841.36 - 5845.92] we&#39;ve actually noticed down here
[5843.12 - 5847.20] in our weight event we&#39;re not using the
[5845.92 - 5849.68] integer that we
[5847.20 - 5850.48] uh passed here we&#39;re just using the item
[5849.68 - 5854.08] one
[5850.48 - 5856.16] so that&#39;s going to add um the wrong uh
[5854.08 - 5857.20] part here on our timeout function so if
[5856.16 - 5859.76] we go back
[5857.20 - 5861.04] and refresh our extension now we can
[5859.76 - 5863.76] test this properly
[5861.04 - 5866.96] so do we still have this copied nope so
[5863.76 - 5869.28] let&#39;s go ahead and grab this again
[5866.96 - 5870.64] so we&#39;ll get this part here go back to
[5869.28 - 5873.76] our console
[5870.64 - 5875.28] open here so we add uh two commands
[5873.76 - 5876.64] again so we&#39;re going to wait 500
[5875.28 - 5880.64] milliseconds
[5876.64 - 5882.24] we&#39;re going to save the uh value of this
[5880.64 - 5884.40] link here so we&#39;ll grab the inner text
[5882.24 - 5886.40] from here and then we&#39;ll just say
[5884.40 - 5887.44] run we can see it&#39;s starting our
[5886.40 - 5890.08] commands it&#39;s saying
[5887.44 - 5891.68] um the pop out has got the response back
[5890.08 - 5893.84] it&#39;s saying commands have been run
[5891.68 - 5895.20] so let&#39;s see when we click ok it should
[5893.84 - 5897.20] show our text area
[5895.20 - 5899.20] and see if we get our response from that
[5897.20 - 5900.64] link there there we go we can see it
[5899.20 - 5903.04] save the link
[5900.64 - 5904.48] from this so if we had this grab a
[5903.04 - 5905.92] number of different links you can see
[5904.48 - 5907.84] how that would pull in
[5905.92 - 5909.20] different content from different places
[5907.84 - 5910.00] now let&#39;s try this on a different site
[5909.20 - 5913.92] where we can actually
[5910.00 - 5915.04] enter um into an input field for example
[5913.92 - 5917.12] actually there&#39;s one over here so let&#39;s
[5915.04 - 5917.84] try entering something into here and
[5917.12 - 5920.88] grabbing that
[5917.84 - 5922.24] uh text event so if we grab this over
[5920.88 - 5924.32] here
[5922.24 - 5925.28] and try and enter something so what
[5924.32 - 5928.56] we&#39;re going to do
[5925.28 - 5931.44] is say wait um 200 milliseconds
[5928.56 - 5932.80] we&#39;ll add a command to it wait 200
[5931.44 - 5934.80] milliseconds
[5932.80 - 5935.84] we&#39;re going to enter a value into this
[5934.80 - 5939.60] field here
[5935.84 - 5942.16] so we&#39;ll say search this
[5939.60 - 5943.68] text and then we&#39;ll just wait 100
[5942.16 - 5945.84] milliseconds let&#39;s try running this
[5943.68 - 5947.28] command just here
[5945.84 - 5949.68] so again the commands have been run
[5947.28 - 5951.12] we&#39;ll say okay we didn&#39;t save any data
[5949.68 - 5952.32] here so that&#39;s what you&#39;d expect it
[5951.12 - 5954.48] shouldn&#39;t return anything
[5952.32 - 5956.16] but as you can see up in the corner here
[5954.48 - 5957.92] it says search this text
[5956.16 - 5959.68] and that means that it&#39;s all worked and
[5957.92 - 5960.64] it&#39;s actually inputted into this input
[5959.68 - 5962.08] field
[5960.64 - 5964.24] so that is how you can quickly put
[5962.08 - 5966.08] together a little extension you can use
[5964.24 - 5968.08] to either scrape data or automate
[5966.08 - 5970.32] certain actions on a page
[5968.08 - 5971.52] now i would recommend another a number
[5970.32 - 5973.60] of changes if you&#39;re thinking about
[5971.52 - 5976.40] launching something like this yourself
[5973.60 - 5977.68] so the first one would definitely be you
[5976.40 - 5979.20] know where we&#39;re entering this
[5977.68 - 5981.92] uh data over here then adding new
[5979.20 - 5985.04] commands changing it so we&#39;re creating a
[5981.92 - 5986.72] element that we&#39;re appending onto the
[5985.04 - 5988.96] parent div each time rather than
[5986.72 - 5991.60] changing the inner html then it wouldn&#39;t
[5988.96 - 5992.56] remove this and generally making it so
[5991.60 - 5994.56] that we can
[5992.56 - 5996.40] perform actions across different pages
[5994.56 - 6000.00] rather than all on one page
[5996.40 - 6001.60] so for example if i wanted to make this
[6000.00 - 6003.44] click this button and that changed the
[6001.60 - 6006.16] page you should think about ways you
[6003.44 - 6007.60] could get it to continue running as well
[6006.16 - 6009.44] there&#39;s actually a video on my channel
[6007.60 - 6011.04] that details how you can run functions
[6009.44 - 6012.40] across multiple pages so
[6011.04 - 6014.00] um be sure to check that out as well if
[6012.40 - 6015.52] you want to do something like that but
[6014.00 - 6017.12] that is how you can
[6015.52 - 6019.36] build a simple web scraper and
[6017.12 - 6021.04] automation tool using a chrome extension
[6019.36 - 6023.12] so we managed to make four extensions in
[6021.04 - 6024.40] this video it didn&#39;t take too long
[6023.12 - 6026.56] so it&#39;s showing how you can quickly
[6024.40 - 6028.56] prototype ideas and get them out
[6026.56 - 6030.72] and get people using them and see if the
[6028.56 - 6031.76] idea works before spending loads of time
[6030.72 - 6033.68] on development
[6031.76 - 6035.12] so it&#39;s just a few ways you can really
[6033.68 - 6036.08] speed up the way that you put things
[6035.12 - 6038.80] together
[6036.08 - 6040.48] so if you&#39;ve got any questions on how i
[6038.80 - 6042.00] went about anything in this video
[6040.48 - 6043.28] on the different extensions that we made
[6042.00 - 6044.88] feel free to leave a comment and i&#39;ll
[6043.28 - 6046.56] try and get back to you
[6044.88 - 6048.32] but otherwise you can find links to the
[6046.56 - 6049.84] code that we started with
[6048.32 - 6051.44] and the code that we created for each of
[6049.84 - 6052.32] these extensions as well in the
[6051.44 - 6053.60] description
[6052.32 - 6055.44] so thanks for watching i hope you found
[6053.60 - 6056.72] this video useful in the next couple of
[6055.44 - 6057.12] videos we&#39;re going to be looking into
[6056.72 - 6058.88] the
[6057.12 - 6060.24] version 3 of the chrome manifest so
[6058.88 - 6061.04] there&#39;s a lot of changes that are coming
[6060.24 - 6063.20] soon
[6061.04 - 6064.96] but at the moment these aren&#39;t confirmed
[6063.20 - 6065.52] yet there&#39;s a few things moving around
[6064.96 - 6067.20] here
[6065.52 - 6069.28] but i&#39;m going to try and make a really
[6067.20 - 6070.64] in-depth series looking into the changes
[6069.28 - 6072.48] that are going to be making and how we
[6070.64 - 6073.76] can actually improve our extensions
[6072.48 - 6075.36] with the updates that are coming to
[6073.76 - 6076.56] chrome as well so anyway thanks for
[6075.36 - 6079.52] watching and i&#39;ll see you
[6076.56 - 6079.52] in these new videos